\chapter{Set Theory}\label{chap:set-theory}

\section{Basics of Naive Set Theory}
\subsection{Definitions and Notations}
A \vocab{set}\index{set} $S$ can be loosely defined as a collection of objects\footnote{\emph{Russell's paradox}, after the mathematician and philosopher Bertrand Russell (1872--1970), provides a warning as to the looseness of our definition of a set. Suppose $H$ is the collection of sets that are not elements of themselves; that is,
\[H=\{S\mid S\notin S\}.\]

The problem arises when we ask the question of whether or not $H$ is itself in $H$? On one hand, if $H\notin H$ then $H$ meets the precise criterion for being in $H$ and so $H\in H$, a contradiction. On the other hand, if $H\in H$ then by the property required for this to be the case, $H\notin H$, another contradiction. Thus we have a paradox: $H$ is neither in $H$, nor not in $H$.

The modern resolution of Russell's paradox is that we have taken too naive an understanding of ``collection'', and that Russell's ``set'' $H$ is in fact not a set. It does not fit within axiomatic set theory (which relies on the so-called ZF axioms), and so the question of whether or not $H$ is in $H$ simply doesn't make sense.}. For a set $S$, we write $x \in S$ to mean that $x$ is an \vocab{element}\index{set!element} of $S$, and $x \notin S$ if otherwise. 

To describe a set, one can list its elements explicitly. A set can also be defined in terms of some property $P(x)$ that the elements $x \in S$ satisfy, denoted by the \emph{set builder notation}:
\[\{x\in S \mid P(x)\}\]

The following sets of numbers are frequently encountered.
\begin{itemize}
\item The natural numbers $\NN=\{1,2,3,\dots\}$ (some people include $0$, some do not).
\item The integers $\ZZ=\{\dots,-2,-1,0,1,2,\dots\}$.
\item The rational numbers $\QQ=\crbrac{\frac{p}{q}\:\big|\:p,q\in\ZZ, q\neq0}$.
\item The real numbers $\RR$ (the construction of which, using Dedekind cuts, will be discussed in \cref{chap:number-systems}).
\item The complex numbers $\CC=\{x+yi \mid x,y\in\RR\}$.
\end{itemize}

The \vocab{empty set}\index{set!empty set} $\emptyset$ is the set with no elements.

We say $A$ is a \vocab{subset}\index{set!subset} of $B$ if every element of $A$ is in $B$:
\[A\subset B\quad\text{means}\quad(\forall x)(x\in A \implies x\in B)\]
By construction, we have $\NN\subset\ZZ\subset\QQ\subset\RR\subset\CC$.

We denote $A\subsetneq B$ to explicitly mean that $A\subset B$ and $A\neq B$; we call $A$ a \emph{proper subset} of $B$.

\begin{lemma}[$\subset$ is transitive]
If $A\subset B$ and $B\subset C$, then $A\subset C$.
\end{lemma}

\begin{proof}
Since $A\subset B$, $x\in A\implies x\in B$. 
Since $B \subset C$, $x\in B\implies x\in C$. 
Combining these two implications, we have $x\in A\implies x\in C$.
Hence $A\subset C$.
\end{proof}

We say two sets $A$ and $B$ are \vocab{equal} if and only if they contain the same elements:
\[A=B\quad\text{means}\quad x\in A\iff x\in B.\]

\begin{lemma}[Double inclusion]
Let $A,B\subset S$. Then
\[A=B\iff (A\subset B)\land(B\subset A)\]
\end{lemma}

\begin{proof}
We have 
\begin{align*}
A = B &\iff (\forall x)[x \in A \iff x \in B] \\
&\iff (\forall x)[(x \in A \implies x \in B) \land (x \in B \implies x \in A)] \\
&\iff \{(\forall x)[x \in A \implies x \in B]\} \land {(\forall x)[x \in B \implies x \in A)]} \\
&\iff (A \subset B) \land (B \subset A)
\end{align*}
\end{proof}

\begin{remark}
Double inclusion is a useful tool to prove that two sets are equal.
\end{remark}

Some frequently occurring subsets of $\RR$ are known as \vocab{intervals}\index{set!interval}, which can be visualised as sections of the real line. We define \emph{bounded intervals}
\begin{align*}
(a,b)&=\{x\in\RR\mid a<x<b\},\\
[a,b]&=\{x\in\RR\mid a\le x\le b\},\\
[a,b)&=\{x\in\RR\mid a\le x<b\},\\
(a,b]&=\{x\in\RR\mid a<x\le b\},
\end{align*}
and \emph{unbounded intervals}
\begin{align*}
(a,\infty)&=\{x\in\RR\mid a<x\},\\
[a,\infty)&=\{x\in\RR\mid a\le x\},\\
(-\infty,a)&=\{x\in\RR\mid x<a\},\\
(\infty,a]&=\{x\in\RR\mid x\le a\}.
\end{align*}
An interval of the first type $(a,b)$ is called an \emph{open interval}; an interval of the second type $[a,b]$ is called a \emph{closed interval}. Note that if $a=b$, then $[a,b]=\{a\}$, while $(a,b)=[a,b)=(a,b]=\emptyset$.

The \vocab{power set}\index{set!power set} $\mathcal{P}(A)$ of $A$ is the set of all subsets of $A$ (including the set itself and the empty set):
\[\mathcal{P}(A)=\{S\mid S\subset A\}.\]

\begin{lemma}
Let $A,B\subset S$. Then
\[A\subset B\iff\mathcal{P}(A)\subset\mathcal{P}(B).\]
\end{lemma}

\begin{proof} \

\forward Suppose $A\subset B$. Let $X\in\mathcal{P}(A)$. Then $X\subset A$, so $X\subset B$. Thus $X\in\mathcal{P}(B)$. Hence $\mathcal{P}(A)\subset\mathcal{P}(B)$.

\backward Suppose $A$ and $B$ are sets such that $\mathcal{P}(A)\subset\mathcal{P}(B)$.

Let $x\in A$. Consider the set $C=\{x\}$. Then $C\subset A$, so $C\in\mathcal{P}(A)$. Thus $C\in\mathcal{P}(B)$, so $C\subset B$. 

We know $x\in C$, so we get $x\in B$. Hence $A\subset B$.
\end{proof}

An \vocab{ordered pair}\index{set!ordered pair} is denoted by $(a,b)$, where the order of the elements matters. Two pairs $(a_1,b_1)$ and $(a_2,b_2)$ are equal if and only if $a_1=a_2$ and $b_1=b_2$.  Similarly, we have ordered triples $(a,b,c)$, quadruples $(a,b,c,d)$ and so on. If there are $n$ elements it is called an \emph{$n$-tuple}.

The \vocab{Cartesian product}\index{set!Cartesian product} of sets $A$ and $B$ is the set of all ordered pairs with the first element of the pair coming from $A$ and the second from $B$:
\[A\times B\colonequals\{(a,b)\mid a\in A,b\in B\}.\]
More generally, we define $A_1 \times A_2 \times \cdots \times A_n$ to be the set of all ordered $n$-tuples $(a_1, a_2, \dots, a_n)$, where $a_i \in A_i$ for $1 \le i \le n$. If all the $A_i$ are the same, we write the product as $A^n$.

\begin{example}
$\RR^2$ is the Euclidean plane, $\RR^3$ is the Euclidean space, and $\RR^n$ is the $n$-dimensional Euclidean space.
\begin{align*}
\RR \times \RR = \RR^2 &= \{(x,y) \mid x,y \in \RR\} \\
\RR \times \RR \times \RR = \RR^3 &= \{(x,y,z) \mid x,y,z \in \RR\} \\
\RR^n &= \{(x_1,x_2,\dots,x_n) \mid x_1,x_2,\dots,x_n \in \RR\}
\end{align*}
\end{example}

\begin{lemma}
Let $A,B,C,D$ be sets.
\begin{enumerate}[label=(\roman*)]
\item $A\times\emptyset=\emptyset\times A=\emptyset$.
\item $A\times(B\cup C)=(A\cup B)\times(A\cup C)$.
\item $A\times(B\cap C)=(A\cap B)\times(A\cap C)$.
\item $(A\cap B)\times(C\cap D)=(A\cap C)\times(B\cap D)$.
\item $(A\cup B)\times(C\cup D)\subset(A\cup C)\times(B\cup D)$.
\end{enumerate}
\end{lemma}

\begin{proof} \
\begin{enumerate}[label=(\roman*)]
\item Evidently $\emptyset\subset A\times\emptyset$, which is vacuously true.

To show the opposite containment $A\times\emptyset\subset\emptyset$ is equivalent to showing
\[(\forall x)x\in A\times\emptyset\implies x\in\emptyset;\]
but $x\in\emptyset$ is always false, so this is equivalent to
\[(\forall x)\lnot(x\in A\times\emptyset).\]
Note that
\begin{align*}
x\in A\times\emptyset
&\iff(\exists a\in A)(\exists b\in\emptyset)[x=(a,b)]\\
&\iff(\exists a)(\exists b)[a\in A\land b\in\emptyset\land x=(a,b)]
\end{align*}
which is always false, since $b\in\emptyset$ is always false.

Hence $(\forall x)\lnot(x\in A\times\emptyset)$ holds.

\item 
\item 
\item 
\item 
\end{enumerate}
\end{proof}

\subsection{Algebra of Sets}
We now disuss the algebra of sets. Given $A \subset S$ and $B \subset S$,
\begin{enumerate}[label=(\roman*)]
\item The \vocab{union}\index{set!union} $A \cup B$ is the set consisting of elements that are in $A$ or $B$ (or both):
\[ A\cup B=\{x \in S \mid x\in A \lor x\in B\} \]

\item The \vocab{intersection}\index{set!intersection} $A \cap B$ is the set consisting of elements that are in both $A$ and $B$:
\[ A\cap B=\{x \in S \mid x\in A \land x\in B\} \]

We say $A$ and $B$ are \vocab{disjoint}\index{set!disjoint} if both sets have no element in common; that is,
\[A\cap B=\emptyset.\]
\end{enumerate}

More generally, we can take unions and intersections of arbitrary numbers of sets (could be finitely or infinitely many). Given an indexed family of sets $\{A_i\mid i\in I\}$ where $I$ is an \emph{indexing set}, we write
\[\bigcup_{i\in I}A_i=\{x \mid \exists i\in I, x\in A_i\},\]
and
\[\bigcap_{i\in I}A_i=\{x \mid \forall i\in I, x\in A_i\}.\]

\begin{enumerate}[resume*]
\item The \vocab{complement}\index{set!complement} of $A$, denoted by $A^c$, is the set containing elements that are not in A:
\[ A^c = \{x \in S \mid x \notin A\} \]

\item The \vocab{set difference}\index{set!set difference}, or complement of $B$ in $A$, denoted by $A\setminus B$, is the subset consisting of those elements that are in $A$ and not in $B$:
\[ A\setminus B = \{x \in A \mid x \notin B\} \]
Note that $A\setminus B = A \cap B^c$.
\end{enumerate}

\begin{lemma}[Distributive laws]
Let $A,B,C\subset S$. Then
\begin{enumerate}[label=(\roman*)]
\item $A\cup(B\cap C)=(A\cup B)\cap(A\cup C)$;
\item $A\cap(B\cup C)=(A\cap B)\cup(A\cap C)$.
\end{enumerate}
\end{lemma}

These properties are straightforward consequences of logic laws.

\begin{proof} \
\begin{enumerate}[label=(\roman*)]
\item We have
\begin{align*}
x\in A\cup(B \cap C)
&\iff (x\in A)\lor(x\in B\cap C)\\
&\iff (x\in A)\lor[(x\in B)\land (x\in C)]\\
&\iff [(x\in A)\lor(x\in B)]\land[(x\in A)\lor(x\in C)]\\
&\iff (x\in A\cup B)\land(x\in A\cup C)\\
&\iff x\in (A\cup B)\cap(A\cup C).
\end{align*}

\item Similar to (i).
\end{enumerate}
\end{proof}

\begin{lemma}[de Morgan's laws]
Let $A,B\subset S$. Then
\begin{enumerate}[label=(\roman*)]
\item $(A \cup B)^c = A^c \cap B^c$;
\item $(A \cap B)^c = A^c \cup B^c$.
\end{enumerate}
\end{lemma}

\begin{proof} \
\begin{enumerate}[label=(\roman*)]
\item \begin{align*}
x\in(A\cup B)^c&\iff x\notin A\cup B\\
&\iff x\notin A\quad\land\quad x\notin B\\
&\iff x\in A^c\quad\land\quad x\in B^c\\
&\iff x\in A^c\cap B^c
\end{align*}

\item Similar.
\end{enumerate}
\end{proof}

De Morgan's laws extend naturally to any number of sets. Suppose $\{A_i\mid i\in I\}$ is a family of subsets of $S$, then
\begin{align*}
\brac{\bigcap_{i\in I}A_i}^c&=\bigcup_{i\in I}{A_i}^c,\\
\brac{\bigcup_{i\in I}A_i}^c&=\bigcap_{i\in I}{A_i}^c.
\end{align*}

\begin{lemma}
The following hold:
\begin{enumerate}[label=(\roman*)]
\item $\brac{\bigcup_{i\in I}A_i}\cup B=\bigcup_{i\in I}(A_i\cup B)$
\item $\brac{\bigcap_{i\in I}A_i}\cup B=\bigcap_{i\in I}(A_i\cup B)$
\item $\brac{\bigcup_{i\in I}A_i}\cup\brac{\bigcup_{j\in J}B_j}=\bigcup_{(i,j)\in I\times J}(A_i\cup B_j)$
\item $\brac{\bigcap_{i\in I}A_i}\cup\brac{\bigcap_{j\in J}B_j}=\bigcap_{(i,j)\in I\times J}(A_i\cup B_j)$
\end{enumerate}
\end{lemma}
\pagebreak

\section{Relations}
\subsection{Definition and Examples}
\begin{definition}[Relation]
$R$ is a \vocab{relation}\index{relation} between $A$ and $B$ if $R\subset A\times B$; $a\in A$ and $b\in B$ are said to be \emph{related} if $(a,b)\in R$, denoted $a R b$.
\end{definition}

\begin{remark}
A relation is a set of ordered pairs.
\end{remark}

Visually speaking, a relation is uniquely determined by a simple bipartite graph over $A$ and $B$. On the bipartite graph, this is usually represented by an edge between $a$ and $b$.

\begin{example}
In many cases we do not actually use $R$ to write the relation because there is some other conventional notation:
\begin{itemize}
\item The ``less than or equal to'' relation $\le$ on the set of real numbers is
\[\{(x,y) \in \RR^2 \mid x \le y\}\subset\RR^2;\]
we write $x\le y$ if $(x,y)$ is in this set.
\item The ``divides'' relation $\mid$ on $\NN$ is
\[\{(m,n)\in\NN^2\mid m\text{ divides }n\}\subset\NN^2;\]
we write $m\mid n$ if $(m,n)$ is in this set.
\item For a set $S$, the ``subset'' relation $\subset$ on $\mathcal{P}(S)$ is
\[\{(A,B)\in\mathcal{P}(S)^2\mid A\subset B\}\subset\mathcal{P}(S)^2;\]
we write $A\subset B$ if $(A,B)$ is in this set.
\end{itemize}
\end{example}

If $A \times B$ is the smallest Cartesian product of which $R$ is a subset, we call $A$ and $B$ the \emph{domain} and \emph{range} of $R$ respectively, denoted by $\dom R$ and $\ran R$ respectively.

\begin{example}
Given $R=\{(1,a),(1,b),(2,b),(3,b)\}$, then $\dom R=\{1,2,3\}$ and $\ran R=\{a,b\}$.
\end{example}

\begin{definition}[Binary relation]
A \vocab{binary relation}\index{relation!binary relation} in $A$ is a relation between $A$ and itself; that is, $R \subset A \times A$.
\end{definition}

\subsection{Properties of Relations}
Let $A$ be a set, $R$ a relation on $A$, $x,y,z \in A$. We say that
\begin{enumerate}[label=(\roman*)]
\item $R$ is \vocab{reflexive} if $xRx$ for all $x\in A$;
\item $R$ is \vocab{symmetric} if $xRy \implies yRx$;
\item $R$ is \vocab{anti-symmetric} if $xRy \text{ and } yRx \implies x=y$;
\item $R$ is \vocab{transitive} if $xRy \text{ and } yRz \implies xRz$.
\end{enumerate}

\begin{example}[Less than or equal to]
The relation $\le$ on $R$ is reflexive, anti-symmetric, and transitive, but not symmetric. 
\end{example}

\begin{definition}
A \vocab{partial order}\index{relation!partial order} on a non-empty set $A$ is a relation on $A$ satisfying reflexivity, anti-symmetry and transitivity.

A \vocab{total order}\index{relation!total order} on $A$ is a partial order on $A$ such that if for every $x,y\in A$, either $xRy$ or $yRx$.

A \vocab{well order}\index{relation!well order} on $A$ is a total order on $A$ such that every non-empty subset of $A$ has a minimal element; that is, for each non-empty $B\subset A$ there exists $s\in B$ such that $s\le b$ for all $b\in B$.
\end{definition}

\begin{example} \
\begin{itemize}
\item Less than: the relation $<$ on $R$ is not reflexive, symmetric, or anti-symmetric, but it is transitive.
\item Not equal to: the relation $\neq$ on $R$ is not reflexive, anti-symmetric or transitive, but it is symmetric.
\end{itemize}
\end{example}

\subsection{Equivalence Relations}
One important type of relation is an equivalence relation. An equivalence relation is a way of saying two objects are, in some particular sense, ``the same''.

\begin{definition}[Equivalence relation]
A relation $\sim$ on a set $A$ is an \vocab{equivalence relation}\index{equivalence relation} if it is reflexive, symmetric and transitive.
\end{definition}

\begin{notation}
We denote $a\sim b$ for $(a,b)\in R$.
\end{notation}

An equivalence relation provides a way of grouping together elements that can be viewed as being the same:

\begin{definition}[Equivalence class]
Given an equivalence relation $\sim$ on a set $A$, and given $x \in A$, the \vocab{equivalence class}\index{equivalence relation!equivalence class} of $x$ is
\[[x]\colonequals\{y\in A\mid y\sim x\}.\]
\end{definition}

Grouping the elements of a set into equivalence classes provides a partition of the set, which we define as follows:

\begin{definition}[Partition]
A \vocab{partition}\index{equivalence relation!partition} of a set $A$ is a collection of subsets $\{A_i\mid i\in I\}$ such that
\begin{enumerate}[label=(\roman*)]
\item $A_i\neq\emptyset$ for all $i\in I$;\hfill(all subsets are non-empty)
\item $\bigcup_{i\in I}A_i=A$;\hfill(every member of $A$ lies in one of the subsets)
\item $A_i\cap A_j=\emptyset$ for every $i\neq j$.\hfill(the subsets are disjoint)
\end{enumerate}
\end{definition}

\begin{proposition}
Let $\sim$ be an equivalence relation on a non-empty set $X$. Then the equivalence classes under $\sim$ are a partition of $X$.
\end{proposition}

To prove this, we need to show that
\begin{enumerate}[label=(\roman*)]
\item every equivalence class is non-empty;
\item every element of $X$ is an element of an equivalence class;
\item every element of $X$ lies in exactly one equivalence class.
\end{enumerate}

\begin{proof} \
\begin{enumerate}[label=(\roman*)]
\item An equivalence class $[x]$ contains $x$ as $x\sim x$, by reflexivity of the relation. Thus $[x]\neq\emptyset$.
\item From (i), note that every $x\in X$ is in the equivalence class $[x]$, so every element of $X$ is an element of at least one equivalence class.
\item Suppose, for a contradiction, that some element of $X$ lies in more than one equivalence class. Let $x\in X$ such that $x\in[y]$ and $x\in[z]$; we want to show that $[y]=[z]$ (using double inclusion).

Let $a\in[y]$, so $a\sim y$. Also $x\in[y]$ so $x\sim y$. By symmetry, $y\sim x$. By transitivity, $a\sim x$. Now $x\in[z]$ so $x\sim z$ and similarly $a\sim z$ thus $a\in[z]$. Hence $[y]\subset[z]$.

By the same argument, $[z]\subset[y]$. Hence $[y]=[z]$.
\end{enumerate}
\end{proof}

\begin{definition}[Quotient set]
The \vocab{quotient set}\index{equivalence relation!quotient set} is the set of all equivalence classes, denoted by $A/\sim$.
\end{definition}

\begin{example}[Modular arithmetic]
Fix $n\in\ZZ^+$. Define a relation on $\ZZ$:
\[a\sim b\iff n\mid(b-a).\]
\begin{lemma*}
$\sim$ is a equivalence relation on $\ZZ$.
\end{lemma*}
\begin{proof} \
\begin{enumerate}[label=(\roman*)]
\item Since $n\mid a-a=0$, we have $a\sim a$.
\item Suppose $a\sim b$. Then $n\mid a-b$ implies $n\mid b-a$, so $b\sim a$.
\item Suppose $a\sim b$ and $b\sim c$. Then $n\mid(a-b)$ and $n\mid(b-c)$, so $n\mid(a-b)+(b-c)=(a-c)$. Thus $a\sim c$.
\end{enumerate}
\end{proof}

We usually write $a\equiv b\pmod n$ if $a\sim b$.

We denote the equivalence class of $a$ by $[a]$, called the \emph{congruence class} of $a$ mod $n$, which consists of the integers which differ from $a$ by an integral multiple of $n$; that is,
\[[a]=\{a+kn\mid k\in\ZZ\}.\]

There are precisely $n$ distinct congruence classes mod $n$, namely
\[[0],[1],\dots,[n-1]\]
determined by the possible remainders after division by $n$; and these congruence classes partition the integers $\ZZ$. The set of congruence classes is denoted by $\ZZ/n\ZZ\colonequals\ZZ/\sim$, called the \emph{integers modulo $n$}.

Define addition and multiplication on $\ZZ/n\ZZ$ as follows: for $[a],[b]\in\ZZ/n\ZZ$,
\begin{align*}
[a]+[b]&=[a+b]\\
[a][b]&=[ab].
\end{align*}

\begin{lemma*}
Addition and mulltiplication on $\ZZ/n\ZZ$ are well-defined.
\end{lemma*}

\begin{proof}
Suppose $[a_1]=[b_1]$ and $[a_2]=[b_2]$.

Then $a_1\equiv b_1\pmod n$, or $n\mid(a_1-b_1)$; let $a_1=b_1+sn$ for some integer $s$. Similarly, let $a_2=b_2+tn$ for some integer $t$.

Then $a_1+a_2=(b_1+b_2)+(s+t)n$, so $a_1+a_2\equiv b_1+b_2\pmod n$. Hence $[a_1+a_2]=[b_1+b_2]$.

Similarly, $a_1a_2=(b_1+sn)(b_2+tn)=b_1b_2+(b_1t+b_2s+stn)n$ shows that $a_1a_2\equiv b_1b_2\pmod n$. Hence $[a_1a_2]=[b_1b_2]$.
\end{proof}

Hence we have shown that if $a_1\equiv b_1\pmod n$ and $a_2\equiv b_2\pmod n$, then
\[a_1+a_2\equiv b_1+b_2\pmod n,\quad a_1a_2\equiv b_1b_2\pmod n.\]

An important subset of $\ZZ/n\ZZ$ consists of the collection of congruence classes which have a multiplicative inverse in $\ZZ/n\ZZ$:
\[(\ZZ/n\ZZ)^\times\colonequals\{[a]\in\ZZ/n\ZZ\mid\exists[c]\in\ZZ/n\ZZ,[a][c]=[1]\}.\]

\begin{lemma*}
$(\ZZ/n\ZZ)^\times$ equals the collection of congruence classes whose representatives are relatively prime to $n$:
\[(\ZZ/n\ZZ)^\times=\{[a]\in\ZZ/n\ZZ\mid(a,n)=1\}.\]
\end{lemma*}
\end{example}

\begin{example}[Rationals]
Define a relation on $\ZZ\times\ZZ^*$, where $\ZZ^*=\ZZ\setminus\{0\}$:
\[(a,b)\sim(c,d)\iff ad=bc.\]
Denote the congruence class of $(a,b)$ by $a/b$.

Let $\QQ\colonequals\ZZ\times\ZZ^*$, with addition and multiplication defined by
\begin{align*}
\frac{a}{b}+\frac{c}{d}&=\frac{ad+bc}{bd}\\
\frac{a}{b}\frac{c}{d}&=\frac{ac}{bd}
\end{align*}
Then $\QQ$ is a field.
\end{example}

\begin{definition}[Quotient map]
The quotient map is the map
\begin{align*}
\pi\colon X&\to X/\sim\\
x&\mapsto[x]
\end{align*}
\end{definition}

\begin{lemma}
Quotient maps are surjective.
\end{lemma}

\begin{proof}

\end{proof}

\subsection{Axiom of Choice and Its Equivalences}
\begin{definition}
Let $(P,\le)$ be a partially ordered set. Suppose $A\subset P$.
\begin{enumerate}[label=(\roman*)]
\item $u\in P$ is an \vocab{upper bound} for $A$ if $x\le u$ for all $x\in A$.
\item $m\in P$ is a \vocab{maximal element} of $P$ if $x\in P$ and $m\le x$ implies $m=x$.
\item Similarly we define \vocab{lower bound} and \vocab{minimal element}.
\item $C\subset P$ is called a \vocab{chain} if either $x\le y$ or $y\le x$ for all $x,y\in C$.
\end{enumerate}
\end{definition}

This terminology of partially ordered sets will often be applied to an arbitrary family of sets. When this is done, it should be understood that the family is being regarded as a partially ordered set under the relation $\subsetneq$. Thus a maximal member of $\mathscr{A}$ is a set $M\in\mathscr{A}$ such that $M$ is a proper subset of no other member of $\mathscr{A}$; a chain of sets is a family $\mathscr{C}$ of sets such that $A\subsetneq B$ or $B\subsetneq A$ for all $A,B\in\mathscr{C}$.

\begin{definition}
Let $\mathscr{F}$ be a family of sets. Then $\mathscr{F}$ is said to be a \emph{family of finite character} if for each set $A$, we have $A\in\mathscr{F}$ if and only if each finite subset of $A$ is in $\mathscr{F}$.
\end{definition}

We shall need the following technical fact.

\begin{lemma}
Let $\mathscr{F}$ be a family of finite character, and let $\mathscr{C}$ be a chain in $\mathscr{F}$. Then $\bigcup\mathscr{C}\in\mathscr{F}$.
\end{lemma}

\begin{proof}
It suffices to show that each finite subset of $\bigcup\mathscr{C}$ is in $\mathscr{F}$. Let $F=\{x_1,\dots,x_n\}\subset\bigcup\mathscr{C}$. Then there exist sets $C_1,\dots,C_n\in\mathscr{C}$ such that $x_i\in C_i$ ($i=1,\dots,n$). Since $\mathscr{C}$ is a chain, there exists $i_0\in\{1,\dots,n\}$ such that $C_i\subsetneq C_{i_0}$ for $i=1,\dots,n$. Then $F\subset C_{i_0}\in\mathscr{F}$. But $\mathscr{F}$ is of finite character, and so $F\in\mathscr{F}$.
\end{proof}

\begin{theorem}
The following are equivalent:
\begin{enumerate}[label=(\roman*)]
\item \emph{Axiom of choice}: The Cartesian product of any non-empty collection of non-empty sets is non-empty.
\item \emph{Tukey's lemma}: Every non-empty family of finite character has a maximal member.
\item \emph{Hausdorff maximality principle}: Every non-empty partially ordered set contains a maximal chain.
\item \emph{Zorn's lemma}: Every non-empty partially ordered set in which every chain has an upper bound has a maximal element.
\item \emph{Well-ordering principle}: Every non-empty set has a well-ordering.
\end{enumerate}
\end{theorem}

\begin{proof}
We direct the reader to Section 3 of \cite{hewitt-stromberg} for the complete proof.
\end{proof}

\begin{remark}
It is a non-trivial result that Zorn's lemma is independent of the usual (Zermelo--Fraenkel) axioms of set theory in the sense that if the axioms of set theory are consistent, then so are these axioms together with Zorn's lemma; and if the axioms of set theory are consistent, then so are these axioms together with the negation of Zorn's lemma.
\end{remark}
\pagebreak

\section{Functions}
\subsection{Definitions}
\begin{definition}[Function]
A \vocab{function}\index{function} $f\colon X\to Y$ is a mapping of every element of $X$ to some element of $Y$; $X$ and $Y$ are known as the \emph{domain} and \emph{codomain} of $f$ respectively.
\end{definition}

\begin{remark}
The definition requires that a unique element of the codomain is assigned for every element of the domain. For example, for a function $f\colon \RR \to \RR$, the assignment $f(x)=\frac{1}{x}$ is not sufficient as it fails at $x=0$. Similarly, $f(x)=y$ where $y^2=x$ fails because $f(x)$ is undefined for $x<0$, and for $x>0$ it does not return a unique value; in such cases, we say the the function is \emph{ill-defined}. We are interested in the opposite; functions that are \emph{well-defined}.
\end{remark}

If a function is defined on some larger domain than we care about, it may be helpful to restrict the domain:

\begin{definition}[Restriction]
Suppose $f\colon X\to Y$. The \vocab{restriction}\index{function!restriction} of $f$ to $A\subset$ is the map $f|_A\colon A \to Y$.
\end{definition}

\begin{remark}
The restriction is almost the same function as the original function---just the domain has changed.
\end{remark}

Another rather trivial but nevertheless important function is the identity map:

\begin{definition}[Identity map]
Given a set $X$, the \vocab{identity} $\id_X\colon X\to X$ is defined by
\[\id_X(x)=x\quad(x\in X).\]
\end{definition}

\begin{notation}
If the domain is unambiguous, the subscript may be omitted.
\end{notation}

\subsection{Injectivity, Surjectivity, Bijectivity}
\begin{definition}
Suppose $f\colon X\to Y$.
\begin{enumerate}[label=(\roman*)]
\item $f$ is \vocab{injective}\index{function!injectivity} (or \emph{one-to-one}) if each element of $Y$ has at most one element of $X$ that maps to it:
\[\forall x_1,x_2\in X,\quad f(x_1)=f(x_2) \implies x_1=x_2\]

\item $f$ is \vocab{surjective}\index{function!surjectivity} (or \emph{onto}) if every element of $Y$ is mapped to at least one element of $X$:
\[ \forall y\in Y,\quad\exists x\in X,\quad f(x)=y \]

\item $f$ is \vocab{bijective}\index{function!bijectivity} if it is both injective and surjective; a bijective function is termed a \emph{bijection}.
\end{enumerate}
\end{definition}

\begin{notation}
We write $X\sim Y$ if there exists a bijection $f\colon X\to Y$.
\end{notation}
\subsection{Images and Pre-images}
\begin{definition}
Suppose $f\colon X\to Y$. The \vocab{image}\index{function!image} of $A\subset X$ under $f$ is
\[f(A)\colonequals\{y\in Y\mid\exists x\in A, y=f(x)\}.\]
The \vocab{pre-image}\index{function!pre-image} of $B\subset Y$ under $f$ is
\[f^{-1}(B)\colonequals\{x\in X\mid f(x)\in B\}.\]
\end{definition}

\begin{remark}
Note the distinction between ``codomain'' and ``range''.
\end{remark}

A useful identity is
\[x\in f^{-1}(A)\iff f(x)\in A.\]

\begin{lemma}
Let $f\colon X\to Y$.
\begin{enumerate}[label=(\roman*)]
\item If $A\subset Y$, then $f\brac{f^{-1}(A)}\subset A$.
\item If $A\subset X$, then $A\subset f^{-1}\brac{f(A)}$.
\end{enumerate}
\end{lemma}

\begin{proof} \
\begin{enumerate}[label=(\roman*)]
\item \begin{align*}
y\in f\brac{f^{-1}(A)}
&\implies\exists x\in f^{-1}(A),\quad f(x)=y\\
&\iff\exists f(x)\in A,\quad f(x)=y\\
&\implies y\in A.
\end{align*}

\item \begin{align*}
x\in A&\implies f(x)\in f(A)\\
&\iff x\in f^{-1}\brac{f(A)}.
\end{align*}
\end{enumerate}
\end{proof}

\begin{lemma}[Algebra of pre-images]
Suppose $f\colon X\to Y$. Then
\begin{enumerate}[label=(\roman*)]
\item $f^{-1}(A^c)=\sqbrac{f^{-1}(A)}^c$ for every $A\subset Y$;
\item $f^{-1}\brac{\bigcup_{i\in I}A_i}=\bigcup_{i\in I}f^{-1}(A_i)$;
\item $f^{-1}\brac{\bigcap_{i\in I}A_i}=\bigcap_{i\in I}f^{-1}(A_i)$.
\end{enumerate}
\end{lemma}

\begin{proof} \
\begin{enumerate}[label=(\roman*)]
\item Suppose $A\subset Y$. Let $x\in X$, then
\begin{align*}
x\in f^{-1}(A^c)&\iff f(x)\in A^c\\
&\iff f(x)\notin A\\
&\iff x\notin f^{-1}(A)\\
&\iff x\in f^{-1}(A)^c
\end{align*}
Hence $f^{-1}(A^c)=f^{-1}(A)^c$.

\item Suppose $\{A_i\mid i\in I\}$ is a collection of subsets of $Y$. Then
\begin{align*}
x\in f^{-1}\brac{\bigcup_{i\in I}A_i}
&\iff f(x)\in\bigcup_{i\in I}A_i\\
&\iff f(x)\in A_i\text{ for some }i\in I\\
&\iff x\in f^{-1}(A_i)\text{ for some }i\in I\\
&\iff x\in\bigcup_{i\in I}f^{-1}(A_i)
\end{align*}
Hence $f^{-1}\brac{\bigcup_{i\in I}A_i}=\bigcup_{i\in I}f^{-1}(A_i)$.

\item Suppose $\{A_i\mid i\in I\}$ is a collection of subsets of $Y$. Then
\begin{align*}
x\in f^{-1}\brac{\bigcap_{i\in I}A_i}
&\iff f(x)\in\bigcap_{i\in I}A_i\\
&\iff f(x)\in A_i\text{ for every }i\in I\\
&\iff x\in f^{-1}(A_i)\text{ for every }i\in I\\
&\iff x\in\bigcap_{i\in I}f^{-1}(A_i)
\end{align*}
Hence $f^{-1}\brac{\bigcap_{i\in I}A_i}=\bigcap_{i\in I}f^{-1}(A_i)$.
\end{enumerate}
\end{proof}

\begin{lemma}[Algebra of images]
Suppose $f\colon X\to Y$. Then
\begin{enumerate}[label=(\roman*)]
\item $f(A)^c\subset f(A^c)$;
\item $f\brac{\bigcup_{i\in I}A_i}=\bigcup_{i\in I}f(A_i)$;
\item $f\brac{\bigcap_{i\in I}A_i}\subset\bigcap_{i\in I}f(A_i)$.
\end{enumerate}
\end{lemma}

\subsection{Composition}
\begin{definition}[Composition]
Given $f\colon X\to Y$ and $g\colon Y\to Z$, the \vocab{composition} $g\circ f\colon X\to Z$ is defined by
\[ (g \circ f)(x)=g(f(x))\quad(\forall x \in X)\]
\end{definition}

The composition of functions is not commutative. However, composition is associative, as the following results shows:

\begin{proposition}[Associativity of composition]
Suppose $f\colon X\to Y$, $g\colon Y\to Z$, $h\colon Z\to W$. Then
\[f\circ (g\circ h)=(f\circ g)\circ h.\]
\end{proposition}

\begin{proof}
Let $x\in X$. By the definition of composition, we have
\[(f\circ(g\circ h))(x)=f((g\circ h)(x))=f(g(h(x)))=(f\circ g)(h(x))=((f\circ g)\circ h)(x).\]
\end{proof}

\begin{proposition}[Composition preserves injectivity and surjectivity] \
\begin{enumerate}[label=(\roman*)]
\item If $f\colon X \to Y$ is injective and $g\colon Y \to Z$ is injective, then $g \circ f\colon X \to Z$ is injective.
\item If $f\colon X\to Y$ is surjective and $g\colon Y\to Z$ is surjective, then $g \circ f\colon X\to Z$ is surjective.
\end{enumerate}
\end{proposition}

\begin{proof} \
\begin{enumerate}[label=(\roman*)]
\item Let $f\colon X \to Y$ and $g\colon Y \to Z$ be injective. To prove that $g \circ f\colon X\to Z$ is injective, we need to prove: for all $x,x^\prime\in X$, 
\[(g \circ f)(x)=(g\circ f)(x^\prime) \implies x=x^\prime.\]

Suppose that $(g \circ f)(x) = (g \circ f)(x^\prime)$. Then by definition
\[g\brac{f(x)}=g\brac{f(x^\prime)}.\]
Injectivity of $g$ implies
\[f(x)=f(x^\prime),\]
and injectivity of $f$ implies
\[x=x^\prime.\]

\item Let $f\colon X\to Y$ and $g\colon Y\to Z$ be surjective. To prove that $g\circ f\colon X\to Z$ is surjective, we need to prove that for any $z\in Z$, there exists $x\in X$ such that $(g\circ f)(x)=z$.

Let $z\in Z$. By surjectivity of $g\colon Y\to Z$, there exists $y\in Y$ such that $g(y)=z$. By surjectivity of $f\colon X\to Y$, there exists $x\in X$ such that $f(x)=y$. This means that there exists $x\in X$ such that $g\brac{f(x)}=g(y)=z$, as desired.
\end{enumerate}
\end{proof}

\begin{proposition}
$f\colon X\to Y$ is injective if and only if for any set $Z$ and any functions $g_1,g_2\colon Z\to X$,
\[f\circ g_1=f\circ g_2 \implies g_1=g_2.\]
\end{proposition}

\begin{proof} \

\fbox{$\implies$} Suppose $f$ is injective, and suppose $f\circ g_1=f\circ g_2$. Let $z\in Z$. Then we have
\[f\brac{g_1(z)}=f\brac{g_2(z)}.\]
Injectivity of $f$ implies
\[g_1(z)=g_2(z),\]
so $g_1=g_2$ (since the choice of $z\in Z$ is arbitrary).

\fbox{$\impliedby$} Pick $Z=\{1\}$, basically some random one-element set. Then for $x,y\in X$, define
\begin{align*}
g_1\colon Z\to X,&\quad g_1(1)=x,\\
g_2\colon Z\to Y,&\quad g_2(1)=y.
\end{align*}
Then for $x,y\in X$,
\[ f(x)=f(y) \implies f(g_1(1))=f(g_2(1)) \implies g_1(1)=g_2(1) \implies x=y \]
which shows that $f$ is injective.
\end{proof}

\begin{proposition}
$f\colon X\to Y$ is surjective if and only if for any set $Z$ and any functions $g_1,g_2\colon Y\to Z$,
\[g_1 \circ f=g_2 \circ f \implies g_1=g_2.\]
\end{proposition}

\begin{proof} \

\fbox{$\implies$} Suppose that $f$ is surjective. Let $y\in Y$. Surjectivity of $f$ means there exists $x\in X$ such that $f(x)=y$. Then
\[g_1\circ f=g_2 \circ f\implies g_1\brac{f(x)}=g_2\brac{f(x)}\implies g_1(y)=g_2(y) \]
so $g_1=g_2$.

\fbox{$\impliedby$} We prove the contrapositive. Suppose $f$ is not surjective, then there exists $y \in Y$ such that for all $x \in X$ we have $f(x)\neq y$. We then aim to construct set $Z$ and $g_1,g_2\colon Y\to Z$ such that
\begin{enumerate}[label=(\roman*)]
\item $g_1(y) \neq g_2(y)$
\item $\forall y^\prime \neq y, g_1(y^\prime)=g_2(y^\prime)$
\end{enumerate}

Because if this is satisfied, then $\forall x \in X$, since $f(x)\neq y$ we have from (ii) that $g_1(f(x))=g_2(f(x))$; thus $g_1 \circ f=g_2 \circ f$, and yet from (i) we have $g_1 \neq g_2$.

We construct $Z=Y\cup\{1,2\}$ for some random $1,2 \notin Y$.

Then we define
\begin{align*}
&g_1\colon Y\to Z,g_1(y)=1,g_1(y^\prime)=y^\prime\\
&g_2\colon Y\to Z,g_2(y)=2,g_2(y^\prime)=y^\prime
\end{align*}

Then when $y$ is not in the image of $f$, these two functions will satisfy $g_1 \circ f=g_2 \circ f$ but not $g_1=g_2$.

So conversely, if for any set $Z$ and any functions $g_i\colon Y \to Z$ we have $g_1 \circ f=g_2 \circ f \implies g_1=g_2$, such a value $y$ that is in the codomain but not in the range of $f$ cannot appear, and hence $f$ must be surjective.
\end{proof}

\begin{lemma}[Inverse image of composition]
Suppose $f\colon X\to Y$, $g\colon Y\to Z$. Then
\[(g\circ f)^{-1}(A)=f^{-1}\brac{g^{-1}(A)}\]
for every $A\subset Z$.
\end{lemma}

\begin{proof}
Suppose $A\subset Z$. Let $x\in X$, then we have
\begin{align*}
x\in(g\circ f)^{-1}(A)
&\iff (g\circ f)(x)\in A\\
&\iff g\brac{f(x)}\in A\\
&\iff f(x)\in g^{-1}(A)\\
&\iff x\in f^{-1}\brac{g^{-1}(A)}
\end{align*}
Hence $(g\circ f)^{-1}(A)=f^{-1}\brac{g^{-1}(A)}$.
\end{proof}

\subsection{Invertibility}
Recalling that $\id_X$ is the identity map on $X$, we can define invertibility.

\begin{definition}[Invertibility]
Suppose $f\colon X\to Y$. We say that
\begin{enumerate}[label=(\roman*)]
\item $f$ is \vocab{left-invertible} if there exists $g\colon Y\to X$ such that $g\circ f=\id_X$; we call $g$ a \emph{left-inverse} of $f$;
\item $f$ is \vocab{right-invertible} if there exists $h\colon Y\to X$ such that $f\circ h=\id_Y$; we call $h$ a \emph{right-inverse} of $f$;
\item $f$ is \vocab{invertible}\index{function!invertibility} if there exists $k\colon Y\to X$ which is a left and right inverse of $f$; we call $k$ an \emph{inverse} of $f$.
\end{enumerate}
\end{definition}

\begin{remark}
Notice that if $g$ is left-inverse to $f$ then $f$ is right-inverse to $g$. A function can have more than one left-inverse, or more than one right-inverse.
\end{remark}

\begin{example}
Let
\begin{align*}
f\colon \RR\to[0,\infty),&\quad f(x)=x^2\\
g\colon [0,\infty)\to\RR,&\quad g(x)=\sqrt{x}
\end{align*}
\begin{itemize}
\item $f$ is not left-invertible. Suppose otherwise, for a contradiction, that $h$ is a left inverse of $f$, so that $hf=\id_\RR$. Then 
\end{itemize}
\end{example}

\begin{lemma}[Uniqueness of inverse]
If $f\colon X\to Y$ is invertible, then its inverse is unique.
\end{lemma}

\begin{proof}
Let $g_1$ and $g_2$ be two functions for which $g_i\circ f=\id_X$ and $f\circ g_i=\id_Y$. Using the fact that composition is associative, and the definition of the identity maps, we can write
\[ g_1 = g_1 \circ \id_Y = g_1 \circ (f \circ g_2) = (g_1 \circ f) \circ g_2 = \id_X \circ g_2 = g_2.\]
\end{proof}

Since the inverse is unique, we can give it a notation.

\begin{notation}
The inverse of $f$ is denoted by $f^{-1}$
\end{notation}

\begin{remark}
Immediately from the definition, if $f$ is invertible then $f^{-1}$ is also invertible, and $(f^{-1})^{-1}=f$.
\end{remark}

The following result provides an important and useful criterion for invertibility.

\begin{lemma}[Invertibility criterion]
Suppose $f\colon X\to Y$. Then
\begin{enumerate}[label=(\roman*)]
\item $f$ is left-invertible if and only if $f$ is injective;
\item $f$ is right-invertible if and only if $f$ is surjective;
\item $f$ is invertible if and only if $f$ is bijective.
\end{enumerate}
\end{lemma}

\begin{proof} \
\begin{enumerate}[label=(\roman*)]
\item \fbox{$\implies$} Suppose $f$ is left-invertible; let $g$ be a left-inverse of $f$, so $g\circ f=\id_X$.

Now suppose $f(a)=f(b)$. Then applying $g$ to both sides gives $g\brac{f(a)}=g\brac{f(b)}$, so $a=b$.

\fbox{$\impliedby$} Let $f$ be injective. Choose any $x_0$ in the domain of $f$. Define $g\colon Y\to X$ as follows; note that each $y\in Y$ is either in the image of $f$ or not.
\begin{itemize}
\item If $y$ is in the image of $f$, it equals $f(x)$ for a \emph{unique} $x\in X$ (uniqueness is because of the injectivity of $f$), so define $g(y)=x$.
\item If $y$ is not in the image of $f$, define $g(y)=x_0$. 
\end{itemize}
Clearly $g\circ f=\id_X$.

\item \fbox{$\implies$} Suppose $f$ is right-invertible; let $g$ be a right-inverse of $f$, so $f\circ g=\id_Y$.

Let $y\in Y$. Then $f\brac{g(y)}=\id_Y(y)=y$ so $y\in f(X)$. Thus $f(X)=Y$ so $f$ is surjective.

\fbox{$\impliedby$} Suppose $f$ is surjective. Let $y\in Y$, then $y$ is in the image of $f$, so we can choose an element $g(y)\in X$ such that $f\brac{g(y)}=y$. This defines a function $g\colon Y\to X$ which is evidently a right-inverse of $f$.

\item \fbox{$\implies$} Suppose $f$ is invertible. Then $f$ is left-invertible and right-invertible. By (i) and (ii), $f$ is injective and surjective, so $f$ is bijective.

\fbox{$\impliedby$} Suppose $f$ is bijective. Then by (i) and (ii), $f$ has a left-inverse $g\colon Y\to X$ and a right-inverse $h\colon Y\to X$. But ``invertible'' requires a single function to be \emph{both} a left and right inverse, so we need to show that $g=h$:
\[g=g\circ\id_Y=g\circ(f\circ h)=(g\circ f)\circ h=\id_X\circ h=h\]
so $g=h$ is an inverse of $f$.
\end{enumerate}
\end{proof}

The following result shows how to invert the composition of invertible functions.

\begin{proposition}[Inverse of composition]
Suppose $f\colon X \to Y$, $g\colon Y \to Z$. If $f$ and $g$ are invertible, then $g \circ f$ is invertible, and
\[(g \circ f)^{-1}=f^{-1}\circ g^{-1}.\]
\end{proposition}

\begin{proof}
Making repeated use of the fact that function composition is associative, and the definition of the inverses $f^{-1}$ and $g^{-1}$, we note that
\begin{align*}
(f^{-1}\circ g^{-1}) \circ (g \circ f) 
&= ((f^{-1} \circ g^{-1}) \circ g) \circ f \\
&= (f^{-1} \circ (g^{-1} \circ g)) \circ f \\
&= (f^{-1} \circ \id_Y) \circ f \\
&= f^{-1} \circ f \\
&= \id_X
\end{align*}
and similarly,
\begin{align*}
(g \circ f) \circ (f^{-1} \circ g^{-1}) 
&= g \circ (f \circ (f^{-1} \circ g^{-1})) \\
&= g \circ ((f \circ f^{-1}) \circ g^{-1}) \\
&= g \circ (\id_Y \circ g^{-1}) \\
&= g \circ g^{-1} \\
&= \id_Z
\end{align*}
which shows that $f^{-1} \circ g^{-1}$ satisfies the properties required to be the inverse of $g \circ f$.
\end{proof}

\begin{corollary}
If $f_1,\dots,f_n$ are invertible and the composition $f_1\circ\cdots\circ f_n$ makes sense, then it is also invertible and its inverse is
\[f_n^{-1}\circ\cdots\circ f_1^{-1}.\]
\end{corollary}

\begin{proposition}
$\sim$ is an equivalence relation between sets.
\end{proposition}

\begin{proof}
We need to prove (i) reflexivity, (ii) symmetry, and (iii) transitivity.
\begin{enumerate}[label=(\roman*)]
\item The identity map gives a bijection from a set to itself.
\item Suppose $f\colon X\to Y$ is a bijection. Then $f$ is invertible, with inverse $f^{-1}\colon Y\to X$. Since $f^{-1}$ is invertible (with inverse $f$), it is bijective.
\item Suppose $f\colon X\to Y$ and $g\colon Y\to Z$ are bijections, and thus they are invertible. Then by the previous result, $g\circ f$ is invertible and thus bijective.
\end{enumerate}
\end{proof}

\begin{theorem}[Cantor--Schr\"{o}der--Bernstein]
If $f\colon X\to Y$ and $g\colon Y\to X$ are injective, then $A\sim B$.
\end{theorem}
\pagebreak

\section{Cardinality}
This section is about formalising the notion of the ``size'' of a set.

\begin{definition}
$A$ and $B$ said to be \vocab{equivalent} (or have the same \emph{cardinality}), denoted by $A\sim B$, if there exists a bijection $f\colon A\to B$. 
\end{definition}

\begin{notation}
For $n\in\NN$, denote
\begin{align*}
\NN_n&=\{k\in\NN\mid 1\le k\le n\},\\
n\NN&=\{nk\mid k\in\NN\}.
\end{align*}
\end{notation}

\begin{definition}
For any set $A$, we say
\begin{enumerate}[label=(\roman*)]
\item $A$ is \vocab{finite} if $A\sim\NN_n$ for some integer $n\in\NN$, then the \emph{cardinality} of $A$ is $|A|=n$; $A$ is \emph{infinite} if $A$ is not finite;
\item $A$ is \vocab{countable} if $A\sim\NN$; $A$ is \emph{uncountable} if $A$ is neither finite nor countable; $A$ is \emph{at most countable} if $A$ is finite or countable.
\end{enumerate}
\end{definition}

\begin{remark}
Any countable set can be ``listed'' in a sequence $a_1,a_2,\dots$ of distinct terms. This technique is particularly useful when there is not possible to deduce an explicit formula for a bijection.
\end{remark}

\begin{lemma}
$\NN$ is infinite.
\end{lemma}

\begin{proof}
We want to show that there does not exist a bijection from $\NN_n$ to $\NN$, for all $n\in\NN$. We prove by induction on $n$.

For the base case $n=1$, if there exists a function $f_1\colon\{1\}\to\NN$, consider the set $\NN\setminus f_1(\{1\})$. It is not empty, so $f_1$ is not surjective, thus it is not bijective.

For the inductive step, we want to show if there does not exist a bijection from $\NN_k$ to $\NN$, then there does not exist a bijection from $\NN_{k+1}$ to $\NN$. We prove the contrapositive: if there exists a bijection from $\NN_{k+1}\to\NN$, then there exists a bijection from $\NN_k$ to $\NN$.

Suppose $h\colon\NN_{k+1}\to\NN$ is a bijection. If remove the element $k+1$, then there exists a bijection from $\NN_k$ to $\NN\setminus\{h(k+1)\}$. But $\NN\setminus\{h(k+1)\}\sim\NN$ so $\NN_k\sim\NN$.
\end{proof}

\begin{corollary}
Any countable set is infinite.
\end{corollary}

\begin{comment}
\subsection{Finite Sets}
For finite sets, we can do some arithmetic with their cardinalities.

\begin{proposition}[Subsets of a finite set]
If a set $A$ is finite with $|A| = n$, then its power set has $|\mathcal{P}(A)| = 2^n$.
\end{proposition}

\begin{proof}
We use induction. For the initial step, note that if $|A| = 0$ then $A = \emptyset$ has no elements, so there is a single subset $\emptyset$, and therefore $|\mathcal{P}(A)| = 1 = 2^0$.

Now suppose that $n \ge 0$ and that $|P(S)| = 2^n$ for any set S with $|S| = n$. Let $A$ be any set with $|A| = n+1$. By definition, this means that there is an element $a$ and a set $A_0 = A\setminus\{a\}$ with $|A_0| = n$. Any subset of A must either contain the element a or not, so we can partition $\mathcal{P}(A) = P(A_0) \cup \{S \cup \{a\} \mid S \in P(A_0)\}$. These two sets are disjoint, and each of them has cardinality $|P(A_0)| = 2^n$ by the inductive hypothesis. Hence $|\mathcal{P}(A)| = 2^n + 2^n = 2^{n+1}$.

Thus, by induction, the result holds for all $n$.
\end{proof}

Another way to see this is through combinatorics: Consider the process of creating a subset. We can do this systematically by going through each of the $|A|$ elements in $A$ and making the yes/no decision whether to put it in the subset. Since there are $|A|$ such choices, that yields $2^{|A|}$ different combinations of elements and therefore $2^{|A|}$ different subsets.

\begin{theorem}[Cantor's Theorem]\label{thrm:cantor}
For a set $A$, finite or infinite,
\[|A|<|\mathcal{P}(A)|.\]
\end{theorem}

\begin{proof}
Suppose, for a contradiction, that $|A|=|\mathcal{P}(A)|$. Then there exists a bijection $f\colon A\to\mathcal{P}(A)$. Put
\[B=\{x\in A\mid x\notin f(A)\}.\]

Now consider any $x\in A$. In the first case, $x\in f(A)$, then
\[x\in f(A)\iff x\notin B,\]
thus $f(A)\neq B$. In the second case, $x\notin f(A)$, then 
\[x\notin f(A)\iff x\in B,\]
thus $f(x)\neq B$. Hence $f$ is not surjective, which is a contradiction.
\end{proof}

\begin{corollary}
For all $n\in\ZZ_0^+$,
\[n<2^n.\]
\end{corollary}

\begin{proof}
This can be easily proven through induction.
\end{proof}

\begin{proposition}
Let $A$ and $B$ be finite sets. Then $|A \cup B| = |A| + |B| - |A \cap B|$.
\end{proposition}

\begin{proof}
The proof is left as an exercise.
\end{proof}

\begin{theorem}[Principle of Inclusion and Exclusion]
Let $S_i$ be finite sets. Then
\begin{equation}
\absolute{\bigcup_{i=1}^nS_i}=\sum_{i=1}|S_i|-\sum_{1\le i<j\le n}|S_i\cap S_j|+\sum_{1\le i<j<k\le n}|S_i\cap S_j\cap S_k|+\cdots+(-1)^{n+1}\absolute{\bigcap_{i=1}^nS_i}.
\end{equation}
\end{theorem}

\begin{proof}
By induction.
\end{proof}

\begin{proof}[Alternative proof]
Let $U$ be a finite set (interpreted as the universal set), and $S\subset U$. Define the characteristic/indicator function of $S$ by
\[ \chi_S(x)=\begin{cases}
1&(x\in S)\\
0&(x\notin S)
\end{cases} \]
In other words,
\[ x\in S\iff\chi_S(x)=1 \]
and equivalently,
\[ x\notin S\iff\chi_S(x)=0. \]
Let $S_1,S_2\subset U$ be given. Then for any $x\in U$ it holds that
\[ \chi_{S_1\cap S_2}(x)=\chi_{S_1}(x)\cdot\chi_{S_2}(x) \]
where $\cdot$ denotes ordinary multiplication.

Similarly,
\[ \chi_{S_1\cup S_2}(x)=1-\brac{1-\chi_{S_1}(x)}\cdot\brac{1-\chi_{S_2}(x)}. \]
In general, for any $x\in U$ it holds that
\[ \chi_{S_1\cup\cdots\cup S_n}(x)=1-\brac{1-\chi_{S_1}(x)}\cdots\brac{1-\chi_{S_n}(x)} \]
for any $S_1,\dots,S_n\subset U$.

Since $x\in S$ if and only if $\chi_S(x)=1$, it follows that
\[ |S|=\sum_{x\in U}\chi_S(x). \]
To prove the PIE, we calculate
\begin{align*}
&|S_1\cup\cdots\cup S_n|\\
&=\sum_{x\in U}\chi_{S_1\cup\cdots\cup S_n}(x)\\
&=\sum_{x\in U}1-\brac{1-\chi_{S_1}(x)}\cdots\brac{1-\chi_{S_n}(x)}\\
&=\brac{\chi_{S_1}(x)+\cdots+\chi_{S_n}(x)}-\brac{\chi_{S_1}(x)\chi_{S_2}(x)+\cdots+\chi_{S_{n-1}}(x)\chi_{S_n}(x)}+\cdots+(-1)^{n+1}\chi_{S_1}(x)\cdots\chi_{S_n}(x)\\
&=\brac{\chi_{S_1}(x)+\cdots+\chi_{S_n}(x)}-\brac{\chi_{S_1\cap S_2}(x)+\cdots+\chi_{S_{n-1}\cap S_n}(x)}+\cdots+(-1)^{n+1}\chi_{S_1\cap\cdots\cap S_n}(x)\\
&=\sum_{i=1}^n|S_i|-\sum_{J\subset\{1,\dots,n\},|J|=2}\absolute{\bigcap_{j\in J}S_j}+\cdots+(-1)^{k+1}\sum_{J\subset\{1,\dots,n\},|J|=k}\absolute{\bigcap_{j\in J}S_j}+\cdots+(-1)^{n+1}\absolute{\bigcap_{i=1}^nS_i}.
\end{align*}
\end{proof}

\subsection{Countability}
For two finite sets $A$ and $B$, we evidently have $A\sim B$ if and only if $A$ and $B$ contain the same number of elements. For infinite sets, however, the idea of ``having the same number of elements'' becomes quite vague, whereas the notion of bijectivity retains its clarity.
\end{comment}

\begin{example}
$\NN$ is countable since the identity map from $\NN$ to $\NN$ is a bijection.
\end{example}

\begin{example}
$n\NN$ is countable.
\begin{proof}
Let $f\colon\NN\to n\NN$ which sends $k\mapsto nk$. We need to show that $f$ is bijective:
\begin{itemize}
\item For any $k_1,k_2\in\NN$, $nk_1=nk_2$ implies $k_1=k_2$ so $f$ is injective.
\item For any $x\in n\NN$, $x=nk$ for some $k\in\NN$, thus $\frac{x}{n}=k\in\NN$ so $f$ is surjective.
\end{itemize}
Hence $f$ is bijective, so $n\NN\sim\NN$ and we are done.
\end{proof}
\end{example}

\begin{example}
$\ZZ$ is countable.
\begin{proof}
Consider the following arrangement of the elements of $\ZZ$ and $\NN$:
\begin{align*}
\ZZ&:\quad0,1,-1,2,-2,3,-3,\dots\\
\NN&:\quad1,2,3,4,5,6,7,\dots
\end{align*}
In fact we can write an explicit formula for a bijection $f\colon \NN\to\ZZ$ where
\[f(n)=\begin{cases}
\dfrac{n}{2}&\text{($n$ even)}\\[1ex]
-\dfrac{n-1}{2}&\text{($n$ odd)}
\end{cases}\]
\end{proof}
\end{example}

\begin{proposition}\label{prop:infinite-subset-countable}
Every infinite subset of a countable set is countable.
\end{proposition}

\begin{proof}
Let $S$ be the countable set. Then we can arrange the elements of $S$ in a sequence $(s_n)$ of distinct elements:
\[s_1,s_2,\dots\]
Suppose $E\subset S$ is infinite. The main idea is to show that we can list out the elements of $E$ in a sequence. We now construct a sequence $(n_k)$ as follows: Let
\begin{align*}
n_1&=\min\{i\mid s_i\in E\}\\
n_2&=\min\{i\mid s_i\in E,i>n_1\}\\
&\vdots\\
n_k&=\min\{i\mid s_i\in E,i>n_{k-1}\}.
\end{align*}
Then
\[E=\{s_{n_1},s_{n_2},\dots\},\]
where we note that the function $f(k)=s_{n_k}$ ($k=1,2,\dots$) is bijective. Hence $E\sim\NN$, as desired.
\end{proof}

\begin{remark}
This shows that countable sets represent the ``smallest'' infinity: No uncountable set can be a subset of a countable set.
\end{remark}

\begin{proposition}\label{prop:union-countable}
The countable union of countable sets is countable.
\end{proposition}

\begin{proof}
Let $\{A_n\mid n\in\NN\}$ be a fanily of countable sets; clearly this is a countable collection of sets (indexed by $\NN$). Then we want to show that the union
\[S=\bigcup_{n=1}^\infty A_n\]
is countable.

Since every set $A_n$ is countable, we can list its elements in a sequence $(a_{nk})$ ($k=1,2,3,\dots$). Arrange the elements of all the sets in $\{A_n\}$ in the form of an infinite array, containing all elements of $S$, where the elements of $A_n$ form the $n$-th row.
\begin{table}[H]
\centering
\begin{tabular}{cccccc}
$A_1$:&$\cancelto{}{a_{11}}$ & $\cancelto{}{a_{12}}$ & $\cancelto{}{a_{13}}$ & $\cancelto{}{a_{14}}$ & $\cdots$\\
$A_2$:&$\cancelto{}{a_{21}}$ & $\cancelto{}{a_{22}}$ & $\cancelto{}{a_{23}}$ & $\cancelto{}{a_{24}}$ & $\cdots$\\
$A_3$:&$\cancelto{}{a_{31}}$ & $\cancelto{}{a_{32}}$ & $\cancelto{}{a_{33}}$ & $\cancelto{}{a_{34}}$ & $\cdots$\\
$A_4$:&$\cancelto{}{a_{41}}$ & $\cancelto{}{a_{42}}$ & $\cancelto{}{a_{43}}$ & $\cancelto{}{a_{44}}$ & $\cdots$\\
$\vdots$ & & & & &
\end{tabular}
\end{table}
We then zigzag our way through the array, and arrange these elements in a sequence
\[a_{11},a_{21},a_{12},a_{31},a_{22},a_{13},a_{41},a_{32},a_{23},a_{14},\dots\]
thus $S$ is countable, and we are almost done!

A small problem is that if any two of the sets $A_n$ have elements in common, these will appear more than once in the above sequence. Then we take a subset $T\subset S$, where every element only appears once. Note that $T$ is an infinite subset, since $A_1\subset T$ is infinite. Then since $T$ is an infinite subset of a countable set $S$, by \cref{prop:infinite-subset-countable}, $T$ is countable.
\end{proof}

\begin{remark}
If we were to instead start by going down by the first row of the above array, then we would not get to the second row (and beyond); all that would show is the first row is countable. Instead, we wind our way through diagonally, ensuring that we hit every number of the array.
\end{remark}

\begin{corollary}
Suppose $A$ is an indexing set that is at most countable. Let $\{B_\alpha\mid\alpha\in A\}$ be a family of sets that are at most countable. Then the union
\[\bigcup_{\alpha\in A}B_\alpha\]
is at most coutable.
\end{corollary}

\begin{proposition}
Let $A$ be a countable set. For $n\in\NN$, let
\[B_n=\{(a_1,\dots,a_n)\mid a_i\in A\}.\]
Then $B_n$ is countable.
\end{proposition}

\begin{proof}
We prove by induction on $n$. That $B_1$ is countable is evident, since $B_1=A$.

Now suppose $B_{n-1}$ is countable. The elements of $B_n$ are of the form 
\[(b,a)\quad(b\in B_{n-1},a\in A)\]
For every fixed $b$, the set of ordered pairs $(b,a)$ is equivalent to $A$, and hence countable. Thus $B_n$ is a union of countable sets. By \cref{prop:union-countable}, $B_n$ is countable.
\end{proof}

\begin{corollary}
$\QQ$ is countable.
\end{corollary}

\begin{proof}
Note that every $x\in\QQ$ is of the form $\frac{b}{a}$, where $a,b\in\ZZ$. By the previous result, taking $n=2$, the set of pairs $(a,b)$ and therefore the set of fractions $\frac{b}{a}$ is countable.
\end{proof}

That not all infinite sets are, however, countable, is shown by the next result.

\begin{proposition}
Let $A$ be the set of all sequences whose elements are the digits $0$ and $1$. Then $A$ is uncountable. 
\end{proposition}

\begin{proof}
Let $E\subset A$ be countable, consisting of the sequences $s_1,s_2,s_3,\dots$.

We construct a new sequence $s$ as follows:
\[\text{$n$-th digit of $s$}=\begin{cases}
0&\text{if $n$-th digit in $s_n$ is $1$,}\\
1&\text{if $n$-th digit in $s_n$ is $0$.}
\end{cases}\]
Then the sequence $s$ differs from every member of $E$ in at least one place, so $s\notin E$. But clearly $s\in A$; hence $E\subsetneq A$.

We have shown that every countable subset of $A$ is a proper subset of $A$. It follows that $A$ is uncountable (for otherwise $A$ would be a proper subset of $A$, which is absurd).
\end{proof}

\begin{remark}
The idea of the above proof is called \emph{Cantor's diagonal process}, first used by Cantor. This is because if elements of the sequences $s_1,s_2,s_3,\dots$ are listed out in an array, it is the elements on the diagonal which are involved in the construction of the new sequence.
\end{remark}

\begin{corollary}
$\RR$ is uncountable.
\end{corollary}

\begin{proof}
This follows from the binary representation of the real numbers.
\end{proof}

\begin{theorem}[Cantor's theorem]
For any set $A$, we have $A\not\sim\mathcal{P}(A)$.
\end{theorem}

\begin{proof}
Suppose otherwise, for a contradiction, that $A\sim\mathcal{P}(A)$. Then there exists a bijection $f\colon A\to\mathcal{P}(A)$. Then for each $x\in A$, $f(x)$ is a subset of $A$. Now consider the ``anti-diagonal'' set
\[B=\{x\in A\mid x\notin f(x)\}.\]
That is, $B$ is the subset of $A$ containing all $x\in A$ such that $x$ is not in the set $f(x)$. Since $B\subset A$, we have $B\in\mathcal{P}(A)$. Since $f$ is bijective (in particular surjective), there exists $x\in A$ such that $f(x)=B$. Now there are two cases: (i) $x\in B$, or (ii) $x\notin B$.
\begin{enumerate}[label=(\roman*)]
\item If $x\in B$, then by definition of the set $B$ it must be the case that $x\notin f(x)$. But since $f(x)=B$, we then have $x\notin D$. This is absurd since we cannot have $x\in B$ and $x\notin B$ simultaneously.
\item If $x\notin B$, by definition of the set $B$, this implies that $x\in f(x)$. But $f(x)=B$. So we have $x\in B$ and $x\notin B$, which is again absurd.
\end{enumerate}
In either case, we have reached a contradiction. Hence there cannot exist a surjective (and thus bijective) function $A\to\mathcal{P}(A)$.
\end{proof}
\pagebreak

\section*{Exercises}
\begin{exercise}
Prove that the statement $\forall x\in\emptyset, P(x)$ is vacuously true.
\end{exercise}

\begin{solution}
Let $S$ be the embedding set. 
The statement $\forall x\in\emptyset, P(x)$ means
\[\forall x\in S,\quad x\in\emptyset\implies P(x).\]
But $x\in\emptyset$ is always false, by the definition of empty set. Hence the statement is always true, regardless of $x$.
\end{solution}

\begin{exercise}
Prove that for any set $A\subset S$, $\emptyset\subset A$ and $A\subset A$.
\end{exercise}

\begin{solution}
Let $A\subset S$. Let $x\in\emptyset$, then $x\in\emptyset\implies x\in A$ is vacuously true, so $\emptyset\subset A$.

Likewise, let $x\in A$, then $x\in A\implies x\in A$ is always true, so $A\subset A$.
\end{solution}

\begin{exercise}
Let $A$ be the set of all complex polynomials in $n$ variables. Given a subset $T\subset A$, define the \emph{zeros} of $T$ as the set
\[Z(T)=\{P=(a_1,\dots,a_n)\mid f(P)=0 \text{ for all }f\in T\}.\]
$Y\subset\CC^n$ is called an \emph{algebraic} set if there exists $T \subset A$ such that $Y=Z(T)$.

Prove that the union of two algebraic sets is an algebraic set.
\end{exercise}

\begin{solution}
We would like to consider $T=\{f_1, f_2, \dots\}$ expressed as indexed sets $T=\{f_i\}$. Then $Z(T)$ can also be expressed as $\{P \mid \forall i, f_i(P)=0\}$.

Suppose that we have two algebraic sets $X$ and $Y$. Let $X=Z(S)$, $Y=Z(T)$ where $S,T$ are subsets of $A$ (basically, they are certain sets of polynomials). Then
\[ X=\{P \mid \forall f \in S, f(P)=0\} \]
\[ Y=\{P \mid \forall g \in T, g(P)=0\} \]

We imagine that for $P\in X\cap Y$, we have $f(P)=0$ or $g(P)=0$. Hence we consider the set of polynomials
\[ U=\{f\cdot g \mid f\in S, g\in T\} \]

For any $P\in X\cup Y$ and for any $fg\in U$ where $f\in S$ and $f\in g$, either $f(P)=0$ or $g(P)=0$, hence $fg(P)=0$ and thus $P\in Z(U)$.

On the other hand if $P\in Z(U)$, suppose otherwise that $P$ is not in $X\cup Y$, then $P$ is neither in $X$ nor in $Y$. This means that there exists $f\in S,g\in T$ such that $f(P)\neq0$ and $g(P)\neq0$, hence $fg(P)\neq0$. This is a contradiction as $P\in Z(U)$ implies $fg(P)=0$. Hence we have $X\cup Y=Z(U)$ and thus $X\cup Y$ is an algebraic set.

Now the other direction is simpler and can actually be generalised: The intersection of arbitrarily many algebraic sets is algebraic. 

The basic result is that if $X=Z(S)$ and $Y=Z(T)$ then $X\cap Y=Z(S\cup T)$. 
\end{solution}

\begin{exercise}[Complex numbers]
Let $\RR[x]$ denote the set of real polynomials. Define
\[\CC=\RR[x]/(x^2+1)\RR[x]\]
where
\[f(x)\sim g(x)\iff x^2+1\text{ divides }f(x)-g(x).\]
The complex number $a+bi$ is defined to be the equivalence class of $a+bx$.
\begin{enumerate}[label=(\alph*)]
\item Define the sum and product of two complex numbers and show that such definitions are well-defined.
\item Define the reciprocal of a complex number.
\end{enumerate}
\end{exercise}

\begin{exercise}[\cite{rudin} 2.2]
We say $z\in\CC$ is \emph{algebraic} if there exist integers $a_0,\dots,a_n$, not all zero, such that
\[a_0z^n+a_1z^{n-1}+\cdots+a_{n-1}z+a_n=0.\]
Prove that the set of all algebraic numbers is countable. \emph{Hint}: For every positive integer $N$ there are only finitely many equations with
\[n+|a_0|+|a_1|+\cdots+|a_n|=N.\]
\end{exercise}

\begin{solution}
Following the hint, let $A_N$ be the set of numbers $z$ that satisfy $a_0z^n+a_1z^{n-1}+\cdots+a_{n-1}z+a_n=0$, for some coefficients $a_0,\dots,a_n$ which satisfy
\[n+|a_0|+|a_1|+\cdots+|a_n|=N.\]

By the fundamental theorem of algebra, $a_0z^n+a_1z^{n-1}+\cdots+a_{n-1}z+a_n=0$ has at most $n$ solutions, so each $A_N$ is finite. Hence the set of algebraic numbers, which is the union
\[\bigcup_{N=2}^{\infty}A_N\]
is at most countable. Since all rational numbers are algebraic, it follows that the set of algebraic numbers is exactly countable. 
\end{solution}

\begin{exercise}[\cite{rudin} 2.3]
Prove that there exist real numbers which are not algebraic.
\end{exercise}

\begin{solution}
By the previous exercise, the set of real algebraic numbers is countable. If every real number were algebraic, the entire set of real numbers would be countable, a contradiction.
\end{solution}

\begin{exercise}[\cite{rudin} 2.4]
Is the set of irrational real numbers countable?
\end{exercise}

\begin{solution}
No. If $\RR\setminus\QQ$ were countable, $\RR=\QQ\cup(\RR\setminus\QQ)$ would be countable, which is clearly false.
\end{solution}