\chapter{Basic Topology}\label{chap:basic-topology}
This chapter discusses basic notions of point set topology, which focuses on the metric space and its related structures. Then we introduce compactness and prove three major results (\cref{thrm:cantor-intersection}, \cref{thrm:heine-borel}, \cref{thrm:bolzano-weierstrass}). We also briefly talk about perfect sets, and connectedness of sets.

\begin{table}[H]
\centering
\begin{tabular}{cc}
\textbf{Term} & \textbf{Notation}\\
metric space & $X$, $Y$\\
metric & $d(p,q)$\\
general set & $E$\\
point in a set & $p$, $q$, $r$\\
open ball & $B_r(p)$\\
closed ball & $\overline{B}_r(p)$\\
punctured ball & $B_r(p)\setminus\{p\}$\\
neighbourhood & $N$\\
interior & $E^\circ$\\
closure & $\overline{E}$\\
boundary & $\partial E$\\
induced set & $E^\prime$\\
compact set & $K$\\
open cover & $\mathcal{U}$\\
$n$-cell & $I$\\
Cantor set & $C$
\end{tabular}
\caption{Notation for \cref{chap:basic-topology}}
\end{table}

\section{Metric Space}
\subsection{Definitions and Examples}
\begin{definition}[Metric space]
A \vocab{metric space}\index{metric space} is a set $X$ with an associated \emph{metric} $d:X\times X\to\RR$, which satisfies the following properties for all $p,q,r\in X$:
\begin{enumerate}[label=(\roman*)]
\item $d(p,q)\ge0$, where equality holds if and only if $p=q$;\hfill(positive definitiveness)
\item $d(p,q)=d(q,p)$;\hfill(symmetry)
\item $d(p,q)\le d(p,r)+d(r,q)$.\hfill(triangle inequality)
\end{enumerate}
\end{definition}

For the rest of the chapter, $X$ is taken to be a metric space, unless specified otherwise.

\begin{example}[Metrics on $\RR^n$]
Each of the following functions define metrics on $\RR^n$.
\begin{align*}
d_1(x,y)&=\sum_{i=1}^{n}|x_i-y_i|;\\
d_2(x,y)&=\sqrt{\sum_{i=1}^{n}(x_i-y_i)}\\
d_\infty(x,y)&=\max_{i\in\{1,2,\dots,n\}}|x_i-y_i|.
\end{align*}
These are called the $\ell^1$-, $\ell^2$- (or Euclidean) and $\ell^\infty$-distances respectively.

The proof that each of $d_1$, $d_2$, $d_\infty$ is a metric is mostly very routine, with the exception of proving that $d_2$, the Euclidean distance, satisfies the triangle inequality. To establish this, recall that the Euclidean norm $\norm{x}_2$ of a vector $x=(x_1,\dots,x_n)\in\RR^n$ is
\[\norm{x}_2\coloneqq\brac{\sum_{i=1}^n{x_i}^2}^\frac{1}{2}=\langle x,x\rangle^\frac{1}{2},\]
where the inner product is given by
\[\langle x,y\rangle\coloneqq\sum_{i=1}^{n}x_i y_i.\]
Then $d_2(x,y)=\norm{x-y}_2$, and so the triangle inequality is the statement that
\[\norm{w-y}_2\le\norm{w-x}_2+\norm{x-y}_2.\]
This follows immediately by taking $u=w-x$ and $v=x-y$ in the following lemma.

\begin{lemma*}
If $u,v\in\RR^n$ then $\norm{u+v}_2\le\norm{u}_2+\norm{v}_2$.
\end{lemma*}

\begin{proof}
Since $\norm{u}_2\ge0$ for all $u\in\RR^n$, squaring both sides of the desired inequality gives
\[{\norm{u+v}_2}^2\le{\norm{u}_2}^2+2\norm{u}_2\norm{v}_2+{\norm{v}_2}^2.\]
But since
\[{\norm{u+v}_2}^2=\langle u+v,u+v\rangle={\norm{u}_2}^2+2\langle u,v\rangle+\norm{v}_2^2,\]
this inequality is immediate from the Cauchy--Schwarz inequality, that is to say the inequality
\[|\langle u,v\rangle|\le\norm{u}_2\norm{v}_2.\]
\end{proof}
\end{example}

\begin{comment}
\subsection{Norms}
\begin{definition}[Norms]
Let $V$ be any vector space (over the reals). A function $\norm{\cdot}:V\to[0,\infty)$ is called a \vocab{norm}\index{norm} if it satisfies the following properties:
\begin{enumerate}[label=(\roman*)]
\item $\norm{x}=0$ if and only if $x=0$;
\item $\norm{\lambda x}=|\lambda|\norm{x}$ for all $\lambda\in\RR$, $x\in V$;
\item $\norm{x+y}\le\norm{x}+\norm{y}$ for all $x,y\in V$.
\end{enumerate}
\end{definition}

Given a norm, it is very easy to check that $d(x,y)\coloneqq\norm{x-y}$ defines a metric on $V$. Indeed, we have already seen that when $V=\RR^n$, $\norm{\cdot}_2$ is a norm (and so the name ``Euclidean norm'' is appropriate) and we defined $d_2(x,y)=\norm{x-y}_2$. The other metrics on $\RR^n$ also come from norms: $d_1$ comes from the $\ell^1$-norm
\[\norm{x}_1\coloneqq\sum_{i=1}^n|x_i|,\]
whilst $d_\infty$ comes from the $\ell^\infty$-norm
\[\norm{x}_\infty\coloneqq\max_{i=1,\dots,n}|x_i|.\]
More generally, the family of $\ell^p$-norms are given by
\[\norm{x}_p\coloneqq\brac{\sum_{i=1}^n|x_i|^p}^\frac{1}{p}.\]

The principle of turning norms into metrics is important enough that we state it as a lemma in its own right.

\begin{lemma}
Let $V$ be a vector space over $\RR$, let $\norm{\cdot}$ be a norm on $V$. Define $d:V\times V\to[0,\infty)$ by $d(x,y)\coloneqq\norm{x-y}$. Then $(V,d)$ is a metric space.
\end{lemma}

\begin{proof}
Simply verify the three axioms for a metric space, which directly correspond to the three axioms for a norm.
\end{proof}

\begin{remark}
The converse is very far from true. For instance, the discrete metric does not arise from a norm. All metrics arising from a norm have the \emph{translation invariance property} $d(x+z,y+z)=d(x,y)$, as well as the \emph{scalar invariance} $d(\lambda x,\lambda y)=|\lambda|d(x,y)$, neither of which are properties of arbitrary metrics.

Conversely one can show that a metric with these two additional properties does come from a norm, an exercise we leave to the reader. [Hint: the norm must arise as $\norm{v}=d(v,0)$.]
\end{remark}

We call a vector space endowed with a norm $\norm{\cdot}$ a \vocab{normed space}. Whenever we talk about normed spaces it is understood that we are also thinking of them as metric spaces, with the metric being defined by $d(v,w)=\norm{v-w}$.

Note that we do not assume that the underlying vector space $V$ is finite dimensional. Here are some examples which are not finite-dimensional (whilst we do not prove that they are not finite-dimensional here, it is not hard to do so and we suggest this as an exercise).

\begin{example}[$\ell^p$ spaces]
Let
\begin{align*}
\ell_1&=\crbrac{(x_n)_{n=1}^\infty\:\bigg|\:\sum_{n\ge1}|x_n|<\infty},\\
\ell_2&=\crbrac{(x_n)_{n=1}^\infty\:\bigg|\:\sum_{n\ge1}x_n^2<\infty},\\
\ell_\infty=&\crbrac{(x_n)_{n=1}^\infty\:\bigg|\:\sup_{n\in\NN}|x_n|<\infty}.
\end{align*}
The sets $\ell_1$, $\ell_2$, $\ell_\infty$ are all real vector spaces, and moreover
\begin{align*}
\norm{(x_n)}_1&=\sum_{n\ge1}|x_n|,\\
\norm{(x_n)}_2&=\brac{\sum_{n\ge1}x_n^2}^\frac{1}{2},\\
\norm{(x_n)}_\infty&=\sup_{n\in\NN}|x_n|
\end{align*}
define norms on $\ell_1$, $\ell_2$ and $\ell_\infty$ respectively.

Note that $\ell_2$ is in fact an inner product space where
\[\langle(x_n),(y_n)\rangle=\sum_{n\ge1}x_ny_n,\]
(the fact that the right-hand side converges if $(x_n)$ and $(y_n)$ are in $\ell_2$ follows from the Cauchy--Schwarz inequality). The space $\ell^2$ is known as \vocab{Hilbert space}.
\end{example}
\end{comment}

A metric space $(X,d)$ naturally induces a metric on any of its subsets.

\begin{definition}[Subspace]
Suppose $(X,d)$ is a metric space, $Y\subset X$. Then the restriction of $d$ to $Y\times Y$ gives $Y$ a metric so that $(Y,d_{Y\times Y})$ is a metric space. We call $Y$ equipped with this metric a \vocab{subspace}.
\end{definition}

\subsection{Balls and Boundedness}
\begin{definition}[Balls]\index{balls} \
\begin{enumerate}[label=(\roman*)]
\item The \vocab{open ball}\index{balls!open ball} centred at $p\in X$ with radius $r>0$ is the set
\[B_r(p)\coloneqq\{q\in X\mid d(p,q)<r\}.\]
\item The \vocab{closed ball}\index{balls!closed ball} centred at $p$ with radius $r$ is
\[\overline{B}_r(p)\coloneqq\{q\in X\mid d(p,q)\le r\}.\]
\item The \vocab{punctured ball}\index{balls!punctured ball} is the open ball excluding its centre:
\[B_r(p)\setminus\{p\}=\{q\in X\mid 0<d(p,q)<r\}.\]
\end{enumerate}
\end{definition}

\begin{figure}[H]
\centering
\begin{tikzpicture}
\filldraw[color=black, dashed, fill=gray!20, thick](0,0) circle (1.0cm);
\draw[fill=black] (0,0) circle[radius=0.05cm] node [anchor=west] {$p$};
\draw[<->] (0,0) -- (-0.71,0.71) node [midway, below] {$r$};

\filldraw[color=black, fill=gray!20, thick](3,0) circle (1.0cm);
\draw[fill=black] (3,0) circle[radius=0.05cm] node [anchor=west] {$p$};

\filldraw[color=black, dashed, fill=gray!20, thick](6,0) circle (1.0cm);
\draw[fill=white] (6,0) circle[radius=0.05cm] node [anchor=west] {$p$};
\end{tikzpicture}
\caption{Open ball, closed ball, punctured ball}
\end{figure}

\begin{example}
Considering $\RR^3$ with the Euclidean metric, $B_1(0)$ really is what we understand geometrically as a ball (minus its boundary, the unit sphere), whilst $\overline{B}_1(0)$ contains the unit sphere and everything inside it.
\end{example}

\begin{remark}
We caution that this intuitive picture of the closed ball being the open ball ``together with its boundary'' is totally misleading in general. For instance, in the discrete metric on a set $X$, the open ball $B_1(a)$ contains only the point $a$, whereas the closed ball $\overline{B}_1(a)$ is the whole of $X$.
\end{remark}

\begin{definition}[Bounded]
$E\subset X$ is said to be \vocab{bounded}\index{boundedness} if $E$ is contained in some open ball; that is, there exists $M\in\RR$ and $p\in X$ such that $E\subset B_M(p)$.
\end{definition}

\begin{figure}[H]
\centering
\begin{tikzpicture}
\filldraw[color=black, dashed, fill=gray!20, thick](0.9,1.5) circle (2.6cm);
\draw[fill=black] (0.9,1.5) circle[radius=0.05cm] node [anchor=west] {$p$};
%% Blob
\path[draw,use Hobby shortcut,closed=true]
(0,0) .. (.5,1) .. (1.5,3) .. (.3,4) .. (-1,2) .. (-1,.5);
\end{tikzpicture}
\caption{Bounded set}
\end{figure}

\begin{proposition}
Let $E\subset X$. Then the following are equivalent:
\begin{enumerate}[label=(\roman*)]
\item $E$ is bounded;
\item $E$ is contained in some closed ball;
\item The set $\{d(x,y)\mid x,y\in E\}$ is a bounded subset of $\RR$.
\end{enumerate}
\end{proposition}

\begin{proof} \

\fbox{(i)$\implies$(ii)} This is obvious.

\fbox{(ii)$\implies$(iii)} This follows immediately from the triangle inequality.

\fbox{(iii)$\implies$(i)} Suppose $E$ satisfies (iii), then there exists $r\in\RR$ such that $d(x,y)\le r$ for all $x,y\in E$. If $E=\emptyset$, then $E$ is certainly bounded. Otherwise, let $p\in E$ be an arbitrary point. Then $E\subset B_{r+1}(p)$.
\end{proof}

\begin{definition}[Diameter]
Let non-empty $E\subset X$. Then the \vocab{diameter} of $E$ is
\[\diam E\coloneqq\sup_{p,q\in E}d(p,q).\]
\end{definition}

\begin{example}
Find the diameter of the open unit ball in $\RR^n$:
\[B=\{\vb{x}\in\RR^n\mid\norm{\vb{x}}<1\}. \]
\begin{proof}
Note that for all $\vb{x},\vb{y}\in\RR^n$,
\[d(\vb{x},\vb{y})=\norm{\vb{x}-\vb{y}}\le\norm{\vb{x}}+\norm{-\vb{y}}=\norm{\vb{x}}+\norm{\vb{y}}<1+1=2. \]
On the other hand, for any $\epsilon>0$, we pick
\[\vb{x}=\brac{1-\frac{\epsilon}{4},0,\dots,0},\quad\vb{y}=\brac{-\brac{1-\frac{\epsilon}{4}},0,\dots,0}. \]
Then $d(\vb{x},\vb{y})=2-\dfrac{\epsilon}{2}>2-\epsilon$. Since $\epsilon$ is arbitrary, we have that $\diam B=2$.
\end{proof}
\end{example}

\begin{proposition}
$E\subset\RR^n$ is bounded if and only if $\diam E<+\infty$.
\end{proposition}

\begin{proof} \

\fbox{$\implies$} If $E$ is bounded, then there exists $M>0$ such that $\norm{x}\le M$ for all $x \in E$.

Thus for any $x,y \in E$,
\[ d(x,y)=\norm{x-y}\le\norm{x}+\norm{y}\le2M. \]
Thus $\diam E = \sup d(x,y) \le 2M<+\infty$.

\fbox{$\impliedby$} Suppose that $\diam E=r$. Pick a random point $x\in E$, suppose that $\norm{x}=R$.

Then for any other $y \in E$,
\[ \norm{y}=\norm{x+(y-x)}\le\norm{x}+\norm{y-x}\le R+r. \]
Thus, by picking $M=R+r$, we obtain $\norm{y}\le M$ for all $y \in E$, and we are done.
\end{proof}

\begin{remark}
Basically we used $x$ to confine $E$ within a ball, which is then confined within an even bigger ball centered at the origin.
\end{remark}

\subsection{Open and Closed Sets}
\begin{definition}[Neighbourhood]
$N\subset X$ is a \vocab{neighbourhood}\index{neighbourhood} of $p\in X$ if there exists $\epsilon>0$ such that $B_\epsilon(p)\subset N$.
\end{definition}

\begin{definition}[Open set]
$E\subset X$ is \vocab{open}\index{open set} (in $X$) if it is a neighbourhood of all its elements; that is, for all $p\in E$, there exists $\epsilon>0$ such that $B_\epsilon(p)\subset E$.
\end{definition}

\begin{figure}[H]
\centering
\begin{tikzpicture}
%% Blob
\path[draw,use Hobby shortcut,closed=true]
(0,0) .. (.5,1) .. (1.5,3) .. (.3,4) .. (-1,2) .. (-1,.5);
\filldraw[color=black, dashed, fill=gray!20, thick](0,1.5) circle (0.6cm);
\draw[fill=black] (0,1.5) circle[radius=0.05cm] node [anchor=west] {$p$};
\end{tikzpicture}
\caption{Open set}
\end{figure}

\begin{proposition}
Any open ball is open.
\end{proposition}

\begin{proof}
Let $B_r(p)$ be an open ball. Let $q\in B_r(p)$, then $d(p,q)<r$. Let $\epsilon=r-d(p,q)$, and note that $\epsilon>0$.

Consider the ball $B_\epsilon(q)$, and let $s\in B_\epsilon(q)$. By the triangle inequality,
\begin{align*}
d(p,s)&\le d(q,s)+d(p,q)\\
&<\epsilon+d(p,q)\\
&=r
\end{align*}
and thus $s\in B_r(p)$. Since for all $q\in B_r(p)$ there exists $\epsilon>0$ such that $B_\epsilon(q)\subset B_r(p)$, we have that $B_r(p)$ is open.
\end{proof}

\begin{proposition}\label{prop:open-set-properties}
\begin{enumerate}[label=(\roman*)]
\item Both $\emptyset$ and $X$ are open.
\item For any indexing set $I$ and collection of open sets $\{E_i\mid i\in I\}$, $\bigcup_{i\in I}E_i$ is open.
\item For any \emph{finite} indexing set $I$ and collection of open sets $\{E_i\mid i\in I\}$, $\bigcap_{i\in I}E_i$ is open.
\end{enumerate}
\end{proposition}

\begin{proof} \
\begin{enumerate}[label=(\roman*)]
\item Obvious by definition.
\item If $p\in\bigcup_{i\in I}E_i$, then $x\in E_i$ for some $i\in I$. Since $E_i$ is open, there exists $\epsilon>0$ such that $B_\epsilon(p)\subset E_i$ and hence $ B_\epsilon(p)\in\bigcup_{i\in I}E_i$.
\item Suppose that $I$ is finite and that $p\in\bigcap_{i\in I}E_i$. For each $i\in I$, we have $p\in E_i$ and so there exists $\delta_i$ such that $B_{\delta_i}(p)\subset E_i$. Set $\delta=\min_{i\in I}\delta_i$, then $\delta>0$ (here it is, of course, crucial that $I$ be finite), and $B_\delta(p)\subset B_{\delta_i}(p)\subset E_i$ for all $i$. Therefore $ B_\delta(p)\subset\bigcap_{i\in I}E_i$.
\end{enumerate}
\end{proof}

\begin{remark}
(i) is in fact a special case of (ii) and (iii), taking $I$ to be the empty set.
\end{remark}

\begin{remark}
While the indexing set $I$ in (ii) can be arbitrary, the indexing set in (iii) must be finite. This is because in general, an arbitrary intersection of open sets is not open; for instance, the intervals $E_i=\brac{-\frac{1}{i},\frac{1}{i}}$ are all open in $\RR$, but their intersection $\bigcap_{i=1}^\infty E_i=\{0\}$, which is not an open set.
\end{remark}

Suppose $Y$ is a subspace of $X$. We say that $E$ is \emph{open relative} to $Y$ if for all $p\in E$, there exists $\epsilon>0$ such that $B_\epsilon(p)\cap Y\subset E$. (Note that $B_\epsilon(p)\cap Y$ is in the open ball in $Y$\footnote{notice that the definition of an open ball depends on the metric space!}, because the metric $d^\prime:Y\times Y\to R$ is the restriction to $Y\times Y$ of the metric $d:X\times X\to\RR$ on $X$.)

\begin{proposition}\label{prop:open-subspace-cap}
Suppose $Y$ is a subspace of $X$, $E\subset Y$. Then $E$ is open relative to $Y$ if and only if there exists an open subset $G$ of $X$ such that $E=Y\cap G$.
\end{proposition}

\begin{proof} \

\fbox{$\implies$} We prove by construction; that is, construct the required set $G$.

Suppose $E$ is open relative to $Y$. For each $p\in E$, by openness of $E$, there exists $r_p>0$ such that $B_{r_p}(p)\cap Y\subset E$.
Consider the union
\[\bigcup_{p\in E}\brac{B_{r_p}(p)\cap Y}\subset E.\]
Note that we can write
\[\bigcup_{p\in E}\brac{B_{r_p}(p)\cap Y}=\brac{\bigcup_{p\in E}B_{r_p}(p)}\cap Y\subset E.\]
Let
\[G=\bigcup_{p\in E}B_{r_p}(p),\]
then we have $G\cap Y\subset E$. 

Since $G$ is an intersection of open balls (which are open sets), by \cref{prop:open-set-properties}, $G$ is an open subset of $X$.

Note for each $p\in E\subset Y$, we have $p\in Y$, and $p\in B_{r_p}(p)$ for some $r_p>0$, so $p\in\bigcup_{p\in E}B_{r_p}(p)=G$. Hence $p\in G\cap Y$. This shows $E\subset G\cap Y$.

Hence $E=G\cap Y$.

\fbox{$\impliedby$} Suppose $E=G\cap Y$ for some open subset $G$ of $X$. 

Let $p\in E$. Since $p\in G$, by the openness of $G$, there exists $r_p>0$ such that $B_{r_p}(p)\subset G$. Then $B_{r_p}(p)\cap Y\subset G\cap Y=E$. Thus by definition $E$ is open relative to $Y$.
\end{proof}

The complement of an open set is a closed set.

\begin{definition}[Closed set]
$E\subset X$ is \vocab{closed}\index{closed set} if its complement $E^c=X\setminus E$ is open.
\end{definition}

\begin{proposition}
Any closed ball is closed.
\end{proposition}

\begin{proof}
To prove that $\overline{B}_r(p)$ is closed, we need to show that its complement
\[\overline{B}_r(p)^c=\{q\in X\mid d(p,q)>r\}\]
is open.

Let $s\in\overline{B}_r(p)^c$. Take $\epsilon>0$ such that $r+\epsilon<d(p,s)$; that is, $\epsilon<d(p,s)-r$.

Let $q\in B_\epsilon(s)$, then $d(q,s)<\epsilon$. Thus $d(q,s)<d(p,s)-r$, or $r<d(p,s)-d(q,s)$. Then by the triangle inequality,
\begin{align*}
d(p,q)&\ge d(p,s)-d(q,s)\\
&>r
\end{align*}
Hence $q\in\overline{B}_r(p)^c$, and so $B_\epsilon(s)\subset\overline{B}_r(p)^c$. Therefore $\overline{B}_r(p)^c$ is open, so $\overline{B}_r(p)$ is closed.
\end{proof}

\begin{proposition}\label{prop:closed-set-properties}
\begin{enumerate}[label=(\roman*)]
\item Both $\emptyset$ and $X$ are closed.
\item For any indexing set $I$ and collection of closed sets $\{F_i\mid i\in I\}$, $\bigcap_{i\in I}F_i$ is closed.
\item For any \emph{finite} indexing set $I$ and collection of closed sets $\{F_i\mid i\in I\}$, $\bigcup_{i\in I}F_i$ is closed.
\end{enumerate}
\end{proposition}

\begin{proof}
From \cref{prop:open-set-properties}, simply take complements and apply de Morgan's laws.
\end{proof}

\begin{remark}
As above, the indexing set in (iii) must be finite; for instane, the closed intervals $F_i=\sqbrac{-1+\frac{1}{i},1-\frac{1}{i}}$ are all closed in $\RR$, but their union $\bigcup_{i=1}^\infty F_i=(-1,1)$ is open.
\end{remark}

\subsection{Interior, Closure, Boundary}
\begin{definition}
Suppose $E\subset X$.
\begin{enumerate}[label=(\roman*)]
\item The \vocab{interior}\index{interior} of $E$, denoted by $E^\circ$, is the union of all open subsets of $X$ contained in $E$; $p\in E^\circ$ is an \vocab{interior point} of $E$. (Equivalently, $E^\circ$ is the set of all points in $E$ for which $E$ is a neighbourhood; $p$ is an interior point if there exists $\epsilon>0$ such that $B_\epsilon(p)\subset E$.)

\item The \vocab{closure}\index{closure} of $E$, denoted by $\overline{E}$, is the intersection of all closed subsets of $X$ containing $E$. $E$ is said to be \vocab{dense}\index{dense} if $\overline{E}=X$. (Equivalently, every point of $X$ is either a limit point of $E$, or in $E$.)

\item The \vocab{boundary}\index{boundary} of $E$ is $\partial E=\overline{E}\setminus E^\circ$; $p\in\partial E$ is a \vocab{boundary point}\index{boundary point} of $E$.
\end{enumerate}
\end{definition}

In the figure below, the black outline represents the boundary; the grey area within represents the interior; the union represents the closure.
\begin{figure}[H]
\centering
\begin{tikzpicture}
%% Blob
\path[draw,use Hobby shortcut,closed=true, fill=gray!20]
(0,0) .. (.5,1) .. (1.5,3) .. (.3,4) .. (-1,2) .. (-1,.5);
\end{tikzpicture}
\caption{Interior, closure, boundary}
\end{figure}

\begin{example}
The interior of the closed interval $[a,b]\subset\RR$ is the open interval $(a,b)$.

$\QQ$ is dense in $\RR$.
\end{example}

\begin{remark}
It is obvious that the interior $E^\circ$ is open since the union of open sets is open; similarly, the closure $\overline{E}$ is closed since the intersection of closed sets is closed.
\end{remark}

\begin{proposition}
Suppose $E\subset X$.
\begin{enumerate}[label=(\roman*)]
\item $E$ is open if and only if $E=E^\circ$.
\item $E$ is closed if and only if $E=\overline{E}$.
\end{enumerate}

\end{proposition}

\begin{proof} \
\begin{enumerate}[label=(\roman*)]
\item \fbox{$\implies$} Suppose $E$ is open. Then $E$ is an open subset of $X$ contained in $E$ (since $E\subset E$), so $E\subset E^\circ$. Conversely, suppose $A\subset E^\circ$. Then $A$ is an open subset of $X$ contained in $E$, so $A\subset E$, and hence $E^\circ\subset E$. Therefore $E=E^\circ$.

\fbox{$\impliedby$} Since an arbitrary union of open sets is open, $E^\circ$ is itself an open set, and it is clearly the unique largest open subset of $X$ contained in $E$.

\item \fbox{$\implies$} If $E$ is itself closed then evidently $E=\overline{E}$.

\fbox{$\impliedby$} Since an arbitrary intersection of closed sets is closed, $\overline{E}$ is the unique smallest closed subset of $X$ containing $E$. 
\end{enumerate}
\end{proof}

\begin{proposition}
Suppose $E\subset X$. Then $p\in\overline{E}$ if and only if every open ball centred at $p$ contains a point of $E$.
\end{proposition}

\begin{proof} \

\fbox{$\implies$} Suppose that $p\in\overline{E}$. Suppose, for a contradiction, that there exists some open ball $B_\epsilon(p)$ that does not meet $E$, then $B_\epsilon(p)^c$ is a closed set containing $E$. Therefore $B_\epsilon(p)^c$ contains $\overline{E}$, and hence it contains $p$, which is obviously nonsense.

\fbox{$\impliedby$} Suppose that every ball $B_\epsilon(p)$ meets $E$. Suppose, for a contradiction, that $p\notin\overline{E}$. Then since $\overline{E}^c$ is open, there is a ball $B_\epsilon(p)$ contained in $\overline{E}^c$, and hence in $E^c$, contrary to assumption.
\end{proof}

\begin{remark}
A particular consequence of this is that $E\subset X$ is dense if and only if it meets every open set in $X$.
\end{remark}

\begin{proposition}
Suppose $E\subset X$. Let $F\supset E$ be some closed set. Then $\overline{E}\subset F$.
\end{proposition}

\begin{proof}
Let $p$ be a limit point of $E$. Then $p$ is a limit point of $F$. But since $F$ is closed, $F$ contains all its limit points, so all the limit points of $E$ are in $F$. Hence $\overline{E}\subset F$. 
\end{proof}

\begin{remark}
This means that $\overline{E}$ is the ``smallest'' closed set containing $E$.
\end{remark}

\subsection{Limit Points}
\begin{definition} \
\begin{enumerate}[label=(\roman*)]
\item $p\in X$ (not necessarily in $E$) is an \vocab{adherent point} of $E$ (or is \emph{adherent} to $E$) if $B_\epsilon(p)\cap E\neq\emptyset$ for all $\epsilon>0$.
\item $p\in X$ is a \vocab{limit point}\index{limit point} (or \emph{accumulation point}) of $E$ if for all $\epsilon>0$, there exists $q\in E\setminus\{p\}$ such that $q\in B_\epsilon(p)$. (In other words, $p$ is a limit point of $E$ if and only if $p$ adheres to $E\setminus\{p\}$.)

The \vocab{induced set}\index{induced set} of $E$, denoted by $E^\prime$, is the set of all limit points of $E$ in $X$.

\item $p\in E$ is an \vocab{isolated point} of $E$ if $p$ is not an limit point of $E$ (that is, there exists $\epsilon>0$ such that $B_\epsilon(p)\cap E=\{p\}$).
\end{enumerate}
\end{definition}

\begin{figure}[H]
\centering
\begin{tikzpicture}
%% Blob
\path[draw,use Hobby shortcut,closed=true,dashed,fill=gray!20]
(0,0) .. (.5,1) .. (1.5,3) .. (.3,4) .. (-1,2) .. (-1,.5);
\draw[fill=black] (-1,2) circle[radius=0.05cm] node [anchor=east] {$a$};
\end{tikzpicture}
\caption{Adherent point, limit point, isolated point}
\end{figure}

\begin{example}[Adherent point]
\begin{itemize}
\item If $p\in E$, then $p$ adheres to $E$ because every ball contains $p$.
\item If $E\subset\RR$ is bounded above, then $\sup E$ is adherent to $E$.
\end{itemize}
\end{example}

\begin{example}[Limit point]
\begin{itemize}
\item The set $\crbrac{\frac{1}{n}\:\big|\:n\in\NN}$ has $0$ as a limit point.
\item The set of rational numbers has every real number as a limit point.
\item Every point of the closed interval $[a,b]$ is a limit point of the set of numbers in the open interval $(a,b)$.
\item Consider the metric space $\RR^2$. The limit point set of any open ball $B_r(p)$ is the closed ball $\overline{B}_r(p)$, which is also the closure of $B_r(p)$.
\item Consider $\QQ\subset\RR$. $\QQ^\prime=\overline{\QQ}=\RR$.
\end{itemize}
\end{example}

\begin{proposition}\label{prop:limit-point-inf-points}
If $p$ is a limit point of $E$, then every ball of $p$ contains infinitely many points of $E$.
\end{proposition}

\begin{proof}
We prove by contradiction. Suppose otherwise, for a contradiction, that there exists $B_r(p)$ which contains only a finite number of points of $E$ distinct from $p$. Then let
\[B_r(p)=\{q_1,\dots,q_n\},\]
where $p\neq q_i$ for $i=1,\dots,n$. 
Take
\[r=\min\{d(p,q_1),\dots,d(p,q_n)\},\]
then $B_r(p)$ contains no points of $E$ distinct from $p$, which is a contradiction.
\end{proof}

\begin{corollary}
A finite point set has no limit points.
\end{corollary}

\begin{remark}
The converse is not true; for example, $\NN$ is an infinite set with no limit points. In a later section we will show that infinite sets contained in some open ball always have an limit point; this result is known as the Bolzano--Weierstrass theorem (\cref{thrm:bolzano-weierstrass}).
\end{remark}

A closed set was defined to be the complement of an open set. The next result describes closed sets in another way.

\begin{proposition}
Suppose $E\subset X$. Then $E$ is closed if and only if it contains all its limit points.
\end{proposition}

\begin{proof} \

\fbox{$\implies$} Suppose $E$ is closed. Let $p$ be a limit point of $E$. We want to prove that $p\in E$.

Suppose otherwise, for a contradiction, that $p\notin E$. Then $p\in E^c$. Since $E^c$ is open, there exists $\epsilon>0$ such that $B_\epsilon(p)\subset E^c$. Thus $B_\epsilon(p)$ contains no points of $E$, contradicting the fact that $p$ is a limit point of $E$.

\fbox{$\impliedby$} Suppose $E$ contains all its limit points. To show that $E$ is closed, we want to show that $E^c$ is open.

Let $p\in E^c$. Then $p$ is not a limit point of $E$, so there exists some ball $B_\epsilon(p)$ which does not intersect $E$, so $B_\epsilon(p)\subset E^c$. Hence $E^c$ is open, so $E$ is closed.
\end{proof}

\begin{proposition}
Suppose $E\subset X$. Then $E^\prime$ is a closed subset of $X$.
\end{proposition}

\begin{proof}
To prove that $E^\prime$ is closed, we need to show that its complement $(E^\prime)^c$ is open.

Suppose $p\in (E^\prime)^c$. Then $p$ is not a limit point of $E$, so there exists a ball $B_\epsilon(p)$ whose intersection with $E$ is either empty or $\{p\}$ (depending on whether $p\in E$ or not).
\begin{claim}
$B_\frac{\epsilon}{2}(p)\subset (E^\prime)^c$.
\end{claim}
Let $q\in B_\frac{\epsilon}{2}(p)$.
\begin{itemize}
\item If $q=p$, then clearly $q\in (E^\prime)^c$.
\item If $q\neq p$, there is some ball about $q$ which is contained in $B_\epsilon(p)$, but does not contain $p$: the ball $B_\delta(q)$ where $\delta=\min\brac{\frac{\epsilon}{2},d(p,q)}$ has this property. This ball meets $E$ in the empty set, and so $q\in (E^\prime)^c$ in this case too.
\end{itemize}
\end{proof}

\begin{proposition}
Suppose $E\subset X$. Then $\overline{E}=E\cup E^\prime$.
\end{proposition}

\begin{proof}
We show double inclusion.

\fbox{$E\cup E^\prime\subset\overline{E}$} Obviously $E\subset\overline{E}$, so we need only show that $E^\prime\subset\overline{E}$. 

We prove by contrapositive. Suppose $p\in\overline{E}^c$. Since $\overline{E}^c$ is open, there is some ball $B_\epsilon(p)$ which lies in $\overline{E}^c$, and hence also in $E^c$, and therefore a cannot be a limit point of $E$.

\fbox{$\overline{E}\subset E\cup E^\prime$} If $p\in\overline{E}$, we saw in Lemma 5.1.5 that there is a sequence  $(x_n)$ of elements of $E$ with $x_n\to p$. If $x_n=p$ for some $n$ then we are done, since this implies that $p\in E$. Suppose, then, that $x_n\neq p$ for all $n$. Let $\epsilon>0$ be given, for sufficiently large $n$, all the $x_n$ are elements of $B_\epsilon(p)\setminus\{p\}$, and they all lie in $E$. It follows that $p$ is a limit point of $E$, and so we are done in this case also.
\end{proof}

\begin{proposition}\label{prop:closure-sup}
Suppose non-empty $E\subset\RR$ is bounded above. Let $y=\sup E$. Then $y\in\overline{E}$. Hence $y\in E$ if $E$ is closed.
\end{proposition}

\begin{proof}
If $y\in E$, since $E\subset\overline{E}$ we have that $y\in\overline{E}$.

For the second part, assume $y\notin E$. For every $h>0$ there exists then a point $x\in E$ such that $y-h<x<y$, for otherwise $y-h$ would be an upper bound of $E$. Thus $y$ is a limit point of $E$. Hence $y\in\overline{E}$.\todo{review proof}
\end{proof}
($y$ is either in $E$, or a limit point of $E$)
\pagebreak

\section{Compactness}
\subsection{Definitions and Properties}
\begin{definition}[Open cover]
An \vocab{open cover}\index{compact!open cover} of $K\subset X$ is a collection of open sets $\mathcal{U}=\{U_i\mid i\in I\}$ such that
\[K\subset\bigcup_{i\in I}U_i.\]
A \emph{subcover} of $\mathcal{U}$ is a subcollection $\{U_i\mid i\in I^\prime\}$, where $I^\prime\subset I$, which is an open cover of $K$. If $I^\prime$ is finite, then it is called a \emph{finite subcover}.
\end{definition}

\begin{definition}[Compactness]
$K\subset X$ is \vocab{compact}\index{compact} if \emph{every} open cover of $K$ has a finite subcover.
\end{definition}

That is, if $\mathcal{U}=\{U_i\mid i\in I\}$ is an open cover of $K$, then there are finitely many indices $i_1,\dots,i_n\in I$ such that
\[K\subset\bigcup_{k=1}^{n}U_{i_k}.\]

\begin{figure}[H]
\centering
\begin{tikzpicture}
%% Blob
\path[draw,use Hobby shortcut,closed=true, fill=gray!20]
(0,0) .. (.5,1) .. (1.5,3) .. (.3,4) .. (-1,2) .. (-1,.5);
\draw[red,thick,dashed] (-1.2,2) circle (1.0cm);
\draw[red,thick,dashed] (1.5,3) circle (1.5cm);
\draw[red,thick,dashed] (-0.6,0.3) circle (1.0cm);
\draw[red,thick,dashed] (0.4,1.5) circle (1.0cm);
\draw[red,thick,dashed] (-0.4,3.2) circle (1.3cm);
\end{tikzpicture}
\caption{Compact set}
\end{figure}

\begin{example}
\begin{itemize}
\item The real line $\RR$ is not compact. For instance, the open cover $\{(-n,n)\mid n\in\NN\}$ has no finite subcover.
\item $\ZZ$ is not compact in $\RR$. For instance, the open cover $\crbrac{\brac{n-\frac{1}{2},n+\frac{1}{2}}\:\big|\:n\in\ZZ}$ has no finite subcover.
\item $[0,1]$ is compact. (See \cref{prop:closed-compact} for the proof.)
\end{itemize}
\end{example}

\begin{proposition}
Every finite set is compact.
\end{proposition}

\begin{proof}
Let $E$ be finite; let $E=\{p_1,\dots,p_n\}$.

Let $\mathcal{U}=\{U_i\mid i\in I\}$ be an open cover of $E$. We need to construct a finite subcover of $E$.

For each point $p_k\in E$, choose one $U_{i_k}$ such that $p_k\in U_{i_k}$. Then $\{U_{i_k}\mid k=1,\dots,n\}$ is a finite subcover of $\mathcal{U}$.
\end{proof}

Notice earlier than if $E\subset Y\subset X$, then $E$ may be open relative to $Y$, but not open relative to $X$; this implies that the property of being open depends on the space in which $E$ is embedded. Compactness, however, behaves better, as shown in the next result; it is independent of the metric space.

\begin{proposition}
Suppose $Y$ is a subspace of $X$, and $K\subset Y$. Then $K$ is compact relative to $X$ if and only if $K$ is compact relative to $Y$.
\end{proposition}

\begin{proof} \

\fbox{$\implies$} Suppose $K$ is compact relative to $X$. We will show that $K$ is compact relative to $Y$. Let $\mathcal{U}$ be an open cover of $K$ in $Y$; that is, $\mathcal{U}=\{U_i\mid i\in I\}$ is a collection of sets open relative to $Y$, such that $K\subset\bigcup_{i\in I}U_i$. We want to show that $\mathcal{U}$ has a finite subcover.

Since for all $i\in I$, $U_i$ is open relative to $Y$, by \cref{prop:open-subspace-cap}, there exists $V_i$ open relative to $X$ such that $U_i=Y\cap V_i$. Consider $\{V_i\mid i\in I\}$, which is an open cover of $K$, since it is a collection of open sets. Since $K$ is compact relative to $X$, there exist finitely many indices $i_1,\dots,i_n$ such that
\[K\subset\bigcup_{k=1}^{n}V_{i_k}.\]
Since $K\subset\bigcup_{k=1}^{n}V_{i_k}$ and $K\subset Y$, we have that
\[K\subset\brac{\bigcup_{k=1}^{n}V_{i_k}}\cap Y=\bigcup_{k=1}^{n}\brac{Y\cap V_{i_k}}=\bigcup_{k=1}^{n}U_{i_k},\]
where $\{U_{i_k}\mid k=1,\dots,n\}$ forms a finite subcover of $\mathcal{U}$. Hence $K$ is compact relative to $Y$.

\fbox{$\impliedby$} Suppose $K$ is compact relative to $Y$. Let $\mathcal{V}$ be an open cover of $K$ in $X$; that is, $\mathcal{V}=\{V_i\mid i\in I\}$ is a collection of open subsets of $X$ which covers $K$. We want to show that $\mathcal{V}$ has a finite subcover.

For $i\in I$, let $U_i=Y\cap V_i$. Then $\{U_i\mid i\in I\}$ cover $K$ in $Y$. By compactness of $K$ in $Y$, there exist finitely many indices $i_1,\dots,i_n$ such that
\[K\subset\bigcup_{k=1}^{n}U_{i_k}\subset\bigcup_{k=1}^{n}V_{i_k}\]
since $U_i\subset V_i$.
\end{proof}

\begin{proposition}\label{prop:compact-bounded}
Compact subsets of metric spaces are bounded.
\end{proposition}

\begin{proof}
Suppose $K\subset X$ is compact. To prove that $K$ is bounded, we want to construct some open ball that contains the entirety of $K$.

Fix $p\in K$. For $n\in\NN$, let $U_n=B_n(p)$. Then $\{U_n\mid n\in\NN\}$ is an open cover of $K$. By compactness of $K$, there exists a finite subcover
\[\{U_{n_i}\mid i=1,\dots,m\}.\]
But note that $U_{n_1}\subset\cdots\subset U_{n_m}$, so $U_{n_m}$ contains $K$. Hence $K$ is bounded.
\end{proof}

\begin{proposition}\label{prop:compact-closed}
Compact subsets of metric spaces are closed.
\end{proposition}

\begin{proof}
Let $K\subset X$ be compact. To prove that $K$ is closed, we need to show that $K^c$ is open. Let $p\in K^c$; our goal is to show that there exists $\epsilon>0$ such that $B_\epsilon(p)\subset K^c$, or $B_\epsilon(p)\cap K=\emptyset$.

For all $q_i\in K$, consider the pair of open balls $B_{r_i}(p)$ and $B_{r_i}(q_i)$, where $r_i<\frac{1}{2}d(p,q_i)$. Since $K$ is compact, there exists finite many points $q_{i_1},\dots,q_{i_n}\in K$ such that
\[K\subset\bigcup_{k=1}^{n}B_{r_{i_k}}(q_{i_k})=W.\]
Consider the intersection
\[\bigcap_{k=1}^{n}B_{r_{i_k}}(p),\]
which is an open ball at $p$ of radius $\min\{d(p,q_{i_k})\mid k=1,\dots,n\}$. 
\begin{claim}
$\epsilon=\min\{d(p,q_{i_k})\mid k=1,\dots,n\}$.
\end{claim}
Note that $B_\epsilon(p)\subset B_{r_{i_k}}(p)$ for all $k=1,\dots,n$. By construction, for all $q_i\in K$, the open balls $B_{r_i}(p)$ and $B_{r_i}(q_i)$ are disjoint. In particular,
\[B_\epsilon(p)\cap B_{r_{i_k}}(q_{i_k})=\emptyset\quad(k=1,\dots,n)\]
Then taking the union,
\begin{align*}
\bigcup_{k=1}^{n}\brac{B_\epsilon(p)\cap B_{r_{i_k}}(q_{i_k})}&=\emptyset\\
B_\epsilon(p)\cap\brac{\bigcup_{k=1}^{n}B_{r_{i_k}}(q_{i_k})}&=\emptyset\\
B_\epsilon(p)\cap W&=\emptyset
\end{align*}
as desired.
\end{proof}

\begin{proposition}\label{prop:closed-compact}
Closed subsets of compact sets are compact.
\end{proposition}

\begin{proof}
Suppose $K\subset X$ is compact, $F\subset K$ is closed (relative to $X$). We will show that $F$ is compact. Let $\mathcal{U}=\{U_i\mid i\in I\}$ be an open cover of $F$. We want to show that there exists a finite subcover of $\mathcal{U}$.

Since $F$ is closed, its complement $F^c$ is open. Consider the union
\[\Omega=\mathcal{U}\cup\{F^c\},\]
which is an open cover of $K$.

Since $K$ is compact, there exists a finite subcover of $\Omega$, given by
\[\Phi=\{U_{i_1},\dots,U_{i_n},F^c\}\]
which covers $K$, and hence $F$. Now remove $F^c$ from $\Phi$ to obtain
\[\Phi^\prime=\{U_{i_1},\dots,U_{i_n}\},\]
which is an open cover of $F$, since $F^c\cap F=\emptyset$. Hence $\Phi^\prime$ is a finite subcover of $\mathcal{U}$, so $F$ is compact.
\end{proof}

\begin{remark}
Caution: this does \emph{not} say ``closed sets are compact''! In fact, closed sets are not necessarily compact. For instance, $\RR$ is closed in $\RR$, but it is not compact because it is not bounded.

Note that closed and bounded sets are not necessarily compact for general metric spaces, but they are compact in $\RR^n$ (by \cref{thrm:heine-borel}).
\end{remark}

\begin{corollary}
If $F$ is closed and $K$ is compact, then $F\cap K$ is compact.
\end{corollary}

\begin{proof}
Suppose $F$ is closed, $K$ is compact. By \cref{prop:compact-closed}, $K$ is closed. By \cref{prop:closed-set-properties}, the intersection of two closed sets is closed, so $F\cap K$ is closed.

Since $F\cap K\subset K$ is closed, and $K$ is compact, by \cref{prop:closed-compact}, $F\cap K$ is compact.
\end{proof}

\subsection{Heine--Borel Theorem}
\begin{proposition}\label{prop:infinite-compact-lp}
$K$ is compact if and only if every infinite subset of $K$ has a limit point in $K$.
\end{proposition}

\begin{proof} \

\fbox{$\implies$} Suppose $K$ is compact. Let $E$ be an infinite subset of $K$. Suppose otherwise, for a contradiction, that $E$ has no limit point in $K$.

For all $p\in K$, $p$ is not a limit point of $E$, so there exists $r_p>0$ such that $B_{r_p}(p)\cap E\setminus\{p\}=\emptyset$.

\begin{figure}[H]
\centering
\begin{tikzpicture}
\draw[color=blue, dashed, thick](0,0) circle (0.6cm);
\draw[fill=black] (0,0) circle[radius=0.05cm];
\draw[color=blue, dashed, thick](0.8,0.2) circle (0.6cm);
\draw[fill=black] (0.8,0.2) circle[radius=0.05cm];
\draw[color=blue, dashed, thick](0.7,-0.6) circle (0.6cm);
\draw[fill=black] (0.7,-0.6) circle[radius=0.05cm];
\draw[color=blue, dashed, thick](1.6,-0.6) circle (0.6cm);
\draw[fill=black] (1.6,-0.6) circle[radius=0.05cm];
\draw[color=blue, dashed, thick](0.3,0.6) circle (0.4cm);
\draw[fill=black] (0.3,0.6) circle[radius=0.05cm];
\end{tikzpicture}
\end{figure}

Consider the open cover of $K$ given by the collection of open balls at each $p\in K$:
\[\mathcal{U}=\crbrac{B_{r_p}(p)\mid p\in E}.\]
It is clear that $\mathcal{U}$ has no finite subcover, since $E$ is infinite, and each $B_{r_p}(p)$ contains at most one point of $E$.

Since $E\subset K$, the above is also true for $K$. This contradicts the compactness of $K$.

\fbox{$\impliedby$} Suppose every infinite subset of $K$ that has a limit point in $K$. Fix an arbitrary open cover $\mathcal{U}=\{U_i\mid i\in I\}$ of $K$. We will show that $\mathcal{U}$ has a finite subcover, by construction.

Before that, we will reindex $\mathcal{U}$ to make it more convenient, as follows. By the definition of a cover, every $p\in K$ is contained in some $U_i$. Pick \emph{one} such $U_i$ for each $p\in K$, and call it $U_p$. Then our open cover is now $\mathcal{U}=\{U_p\mid p\in K\}$, and for all $p\in K$ we have $p\in U_p$.

\todo{To complete proof} %https://www.acsu.buffalo.edu/~achirvas/Math424_Autumn2015/cpct.pdf
\end{proof}

\begin{proposition}[Nested interval theorem]\label{prop:nested-interval}
Suppose $(I_n)$ is a decreasing sequence of closed and bounded intervals in $\RR$; that is, $I_1\supset I_2\supset\cdots$. Then
\[\bigcap_{n=1}^{\infty}I_n\neq\emptyset.\]
\end{proposition}

\begin{figure}[H]
\centering
\begin{tikzpicture}
\draw[thick] (0,0) -- (10,0);
\draw (0,0.3) -- (0,-0.3) node [anchor=north] {$a_1$};
\draw (10,0.3) -- (10,-0.3) node [anchor=north] {$b_1$};
\draw (1,0.3) -- (1,-0.3) node [anchor=north] {$a_2$};
\draw (9,0.3) -- (9,-0.3) node [anchor=north] {$b_2$};
\draw (2,0.3) -- (2,-0.3) node [anchor=north] {$a_3$};
\draw (8,0.3) -- (8,-0.3) node [anchor=north] {$b_3$};
\draw (3,0.3) -- (3,-0.3) node [anchor=north] {$a_4$};
\draw (7,0.3) -- (7,-0.3) node [anchor=north] {$b_4$};
\end{tikzpicture}
\end{figure}

\begin{proof}
For $n\in\NN$, let $I_n=[a_n,b_n]$. Let $E=\{a_n\mid n\in\NN\}$. Since $E$ is non-empty and bounded above (by $b_1$), it has a supremum in $\RR$; let $x=\sup E$.
\begin{claim}
$\displaystyle x\in\bigcap_{n=1}^{\infty}I_n$.
\end{claim}
Since $x$ is the supremum, we have that $a_n\le x$ for all $n\in\NN$. Note that for $m>n$, $I_n\supset I_m$ implies $a_n\le a_m\le b_m\le b_n$. This means $b_n$ is an upper bound for all $a_n$; hence $x\le b_n$ for all $n\in\NN$.

Therefore $x\in I_n$ for $n=1,2,\dots$
\end{proof}

To generalise the notion of intervals, we define a \emph{$k$-cell} as
\[\{(x_1,\dots,x_k)\in\RR^k\mid a_i\le x_i\le b_i,\:1\le i\le k\}.\]

\begin{example}
A $1$-cell is an interval, a $2$-cell is a rectangle, and a $3$-cell is a rectangular solid. In this regard, we can think of a $k$-cell as a higher-dimensional version of a rectangle or rectangular solid; it is the Cartesian product of $k$ closed intervals.
\end{example}

The previous result can be generalised to $k$-cells, which we will now prove.

\begin{proposition}
Suppose $(I_n)$ is a decreasing sequence of $k$-cells; that is, $I_1\supset I_2\supset\cdots$. Then $\bigcap_{n=1}^{\infty}I_n\neq\emptyset$.
\end{proposition}

\begin{proof}
For $n\in\NN$, let
\[I_n=\{(x_1,\dots,x_k)\mid a_{n_i}\le x_i\le b_{n_i},\:1\le i\le k\},\]
and let $I_{n_i}=[a_{n_i},b_{n_i}]$, where $I_n=I_{n_1}\times\cdots\times I_{n_k}$ is the Cartesian product of $k$ closed intervals.

For each $i$ ($i=1,\dots,k$), 
\end{proof}

\begin{lemma}
Every closed interval is compact (in $\RR$).
\end{lemma}

\begin{figure}[H]
\centering
\begin{tikzpicture}
\draw[thick] (0,0) -- (10,0);
\draw (0,0.3) -- (0,-0.3) node [anchor=north] {$a$};
\draw (10,0.3) -- (10,-0.3) node [anchor=north] {$b$};
\draw (5,0.3) -- (5,-0.3) node [anchor=north] {$c_1$};
\draw (2.5,0.3) -- (2.5,-0.3) node [anchor=north] {$c_2$};
\draw (3.75,0.3) -- (3.75,-0.3) node [anchor=north] {$c_3$};
\end{tikzpicture}
\end{figure}

\begin{proof}
Suppose otherwise, for a contradiction, that a closed interval $[a,b]\subset\RR$ is not compact. Then there exists an open cover $\mathcal{U}=\{U_i\mid i\in I\}$ with no finite subcover.

Let $c_1=\frac{1}{2}(a,b)$. Subdivide $[a,b]$ into subintervals $[a,c_1]$ and $[c_1,b]$. Then $\mathcal{U}$ covers $[a,c_1]$ and $[c_1,b]$, but at least one of these subintervals has no finite subcover (if not, then both subintervals have finite subcovers, so we can take the union of the two finite subcovers to obtain a larger subcover of the entire interval). WLOG, assume $[a,c_1]$ has no finite subcover; let $I_1=[a,c_1]$.

Again subdivide $I_1$ in half to get $[a,c_2]$ and $[c_2,c_1]$. At least one of these subintervals has no finite subcover.

Repeat the above process of subdividing intervals into half. Then we obtain a decreasing sequence of closed intervals
\[I_1\supset I_2\supset I_3\supset\cdots\]
where all of them have no finite subcover of $\mathcal{U}$.

By the nested interval theorem (\cref{prop:nested-interval}), there exists $x^\prime\in I_n$ for all $n\in\NN$. Notice $x^\prime$ is in some $U_i$, which is open. Then there exists $\epsilon>0$ such that $B_\epsilon(x^\prime)\subset U_i$.

Since the length of the subintervals is decreasing and tends to zero, there exists some subinterval $I_n$ so small such that $I_n\subset B_\epsilon(x^\prime)$. This means $I_n\subset U_i$, so $U_i$ itself is an open cover of $I_n$, which contradicts the fact that $I_n$ has no finite subcover of $\mathcal{U}$.
\end{proof}

We now show a more general result.

\begin{lemma}\label{lemma:k-cell-compact}
Every $k$-cell is compact (in $\RR^k$).
\end{lemma}

\begin{proof}
We proceed in a similar manner to the proof the previous result.

Suppose $I$ is a $k$-cell; that is,
\[I=\{(x_1,\dots,x_k)\mid a_i\le x_i\le b_i,\:1\le i\le k\}.\]
Write $\vb{x}=(x_1,\dots,x_k)\in\RR^k$. Let
\[\delta=\brac{\sum_{i=1}^{k}(b_i-a_i)^2}^\frac{1}{2}\]
that is, $\delta$ is the distance between the points $(a_1,\dots,a_k)$ and $(b_1,\dots,b_k)$, which is the maximum distance between two points in $I$. Then
\[|\vb{x}-\vb{y}|\le\delta\quad(\forall\vb{x},\vb{y}\in I)\]
Suppose otherwise, for a contradiction, that $I$ is not compact; that is, there exists an open cover $\mathcal{U}=\{U_i\}$ of $I$ which contains no finite subcover of $I$. 

For $1\le i\le k$, let $c_i=\frac{1}{2}(a_i+b_i)$. The intervals $[a_i,c_i]$ and $[c_i,b_i]$ then determine $2^k$ $k$-cells $Q_i$ whose union is $I$. At least one of these sets $Q_i$, call it $I_1$, cannot be covered by any finite subcollection of $\mathcal{U}$ (otherwise $I$ could be so covered). We next subdivide $I_1$ and continue the process. We obtain a sequence $(I_n)$ with the following properties:
\begin{enumerate}[label=(\roman*)]
\item $I\supset I_1\supset I_2\supset\cdots$
\item $I_n$ is not covered by any finite subcollection of $\mathcal{U}$
\item $|\vb{x}-\vb{y}|\le2^{-n}\delta$ for all $\vb{x},\vb{y}\in I_n$
\end{enumerate}
By (i) and Theorem 2.39, there is a point $\vb{x}^\prime$ which lies in every $I_n$. For some $i$, $\vb{x}^\prime\in U_i$. Since $U_i$ is open, there exists $r>0$ such that $|\vb{y}-\vb{x}^\prime|<r$ implies that $y\in U_i$. If $n$ is so large that $2^{-n}\delta<r$ (there is such an $n$, for otherwise $2^n\le\frac{\delta}{r}$ for all positive integers $n$, which is absurd since $\RR$ is archimedean), then (iii) implies that $I_n\subset U_i$, which contradicts (ii).
\end{proof}

We have now come to an important result, which will be crucial in proving the Heine--Borel theorem and Bolzano--Weierstrass theorem.

\begin{proposition}\label{prop:closed-bounded-compact-inf-lp}
If $E\subset\RR^k$ has one of the following three properties, then it has the other two:
\begin{enumerate}[label=(\roman*)]
\item $E$ is closed and bounded.
\item $E$ is compact.
\item Every infinite subset of $E$ has a limit point in $E$.
\end{enumerate}
\end{proposition}

\begin{proof} \

\fbox{(i)$\implies$(ii)} Suppose $E$ is closed and bounded. Since $E$ is bounded, then $E\subset I$ for some $k$-cell $I$.

From \cref{lemma:k-cell-compact}, we have that $I$ is compact. Since $E$ is a closed subset of a compact set, by \cref{prop:closed-compact}, $E$ is compact.

\fbox{(ii)$\implies$(iii)} This directly follows from \cref{prop:infinite-compact-lp}.

\fbox{(iii)$\implies$(i)} If $E$ is not bounded, then $E$ contains points $\vb{x}_n$ with
\[|\vb{x}_n|>n\quad(n=1,2,3,\dots)\]
The set $S$ consisting of these points $\vb{x}_n$ is infinite and clearly has no limit point in $\RR^k$, hence has none in $E$. Thus (iii) implies that $E$ is bounded.

If $E$ is not closed, then there is a point $\vb{x}_0\in\RR^k$ which is a limit point of $E$ but not a point of $E$. For $n=1,2,3,\dots$, there are points $\vb{x}_n\in E$ such that $|\vb{x}_n-\vb{x}_0|<\frac{1}{n}$. Let $S$ be the set of these points $\vb{x}_n$. Then $S$ is infinite (otherwise $|\vb{x}_n-\vb{x}_0|$ would have a constant positive value, for infinitely many $n$), $S$ has $\vb{x}_0$ as a limit point, and $S$ has no other limit point in $\RR^k$. For if $\vb{y}\in\RR^k$, $\vb{y}\neq\vb{x}_0$, then
\begin{align*}
|\vb{x}_n-\vb{y}|&\ge|\vb{x}_0-\vb{y}|-|\vb{x}_n-\vb{x}_0|\\
&\ge|\vb{x}_0-\vb{y}|-\frac{1}{n}\\
&\ge\frac{1}{2}|\vb{x}_0-\vb{y}|
\end{align*}
for all but finitely many $n$; this shows that $\vb{y}$ is not a limit point of $S$ (Theorem 2.20).

Thus $S$ has no limit point in $E$; hence $E$ must be closed if (iii) holds.\todo{review proof}
\end{proof}

\begin{theorem}[Heine--Borel theorem]\label{thrm:heine-borel}
$E\subset\RR^n$ is compact if and only if $E$ is closed and bounded.
\end{theorem}

\begin{proof}
This is simply (i)$\iff$(ii) in the previous result.
\end{proof}

\subsection{Bolzano--Weierstrass Theorem}
\begin{theorem}[Bolzano--Weierstrass theorem]\label{thrm:bolzano-weierstrass}
Every bounded infinite subset of $\RR^n$ has a limit point in $\RR^n$.
\end{theorem}

\begin{proof}
Suppose $E$ is a bounded infinite subset of $\RR^n$.

Since $E$ is bounded, there exists an $n$-cell $I\subset\RR^n$ such that $E\subset I$. Since $I$ is compact, by \cref{prop:infinite-compact-lp}, $E$ has a limit point in $I$ and thus $\RR^n$. 
\end{proof}

\subsection{Cantor Intersection Theorem}
A collection $\mathcal{A}=\{A_i\mid i\in I\}$ of subsets of $X$ is said to have the \emph{finite intersection property}, if the intersection of every finite subcollection of $\mathcal{A}$ is non-empty.

\begin{proposition}\label{prop:finite-intersection-property}
Suppose $\mathcal{K}=\{K_i\mid i\in I\}$ is a collection of compact subsets of a metric space $X$, which satisfies the finite intersection property. Then $\bigcap_{i\in I}K_i\neq\emptyset$.
\end{proposition}

\begin{proof}
We fix a member $K_1\subset\mathcal{K}$. Suppose otherwise, for a contradiction, that $\bigcap_{i\in I}K_i=\emptyset$; that is, no point of $K_1$ belongs to every $K_i\in\mathcal{K}$. 

For $i\in I$, let $U_i={K_i}^c$. Then the sets $\{U_i\mid i\in I\}$ form an open cover of $K_1$. Since $K_1$ is compact by assumption, there exist finitely many indices $i_1,\dots,i_n$ such that
\[K_1\subset\bigcup_{k=1}^{n}U_{i_k}.\]
By de Morgan's laws, we have that
\[\bigcup_{k=1}^{n}U_{i_k}=\bigcup_{k=1}^{n}{K_{i_k}}^c=\brac{\bigcap_{k=1}^{n}K_{i_k}}^c.\]
Thus
\[K_1\subset\brac{\bigcap_{k=1}^{n}K_{i_k}}^c,\]
which means that
\[K_1\cap\bigcap_{k=1}^{n}K_{i_k}=\emptyset.\]
Thus $K_1,K_{i_1},\dots,K_{i_n}$ is a finite subcollection of $\mathcal{K}$ which has an empty intersection; this contradicts the finite intersection property of $\mathcal{K}$.
\end{proof}

\begin{theorem}[Cantor's intersection theorem]\label{thrm:cantor-intersection}
Suppose $(K_n)$ is a decreasing sequence of non-empty compact sets; that is, $K_1\supset K_2\supset\cdots$. Then $\bigcap_{n=1}^\infty K_n\neq\emptyset$.
\end{theorem}

\begin{proof}
This follows from the previous result; it is obvious that the intersection of every finite subcollection of a decreasing sequence of sets must be non-empty.
\end{proof}

The following result is a characterisation of compact sets.

\begin{proposition}
$K$ is compact if and only if every collection of closed subsets of $K$ satisfies the finite intersection property.
\end{proposition}

\begin{proof} \

\fbox{$\implies$} Suppose $K$ is compact.

If $\mathcal{U}$ is an open covering of $K$, then the collection $\mathcal{F}$ of complements of sets in $\mathcal{U}$ is a collection of closed sets whose intersection is empty (why?); and 

conversely, if $\mathcal{F}$ is a collection of closed sets whose intersection is empty, then the collection $\mathcal{U}$ of complements of sets in $\mathcal{F}$ is an open covering.

\todo{To complete proof} %https://www.ucl.ac.uk/~ucahad0/3103_handout_2.pdf
\end{proof}

\subsection{Sequential Compactness}
\begin{definition}[Sequential compactness]
$K\subset X$ is \vocab{sequentially compact} if every sequence in $K$ has a convergent subsequence in $K$.
\end{definition}

We now show that compactness and sequential compactness are equivalent.

\begin{proposition}
$K\subset X$ is compact if and only if it is sequentially compact.
\end{proposition}

\begin{proof} \

\fbox{$\implies$} Suppose $K\subset X$ is compact. Take any sequence $(y_n)$ from $K$. Suppose, for a contradiction, that every point $x\in K$ is not a limit of any subsequence of $(y_n)$. Then for all $x\in K$, there exists $r_x>0$ such that $B_{r_x}(x)$ contains at most one point in $(y_n)$, which is $x$.

Consider the collection of open balls at each $x\in K$:
\[\{B_{r_x}(x)\mid x\in K\}.\]
This is an open cover of $K$. By the compactness of $K$, there exists a finite subcover of $K$:
\[\crbrac{B_{r_{x_1}}(x_1),\dots,B_{r_{x_N}}(x_N)}.\]
In particular, these open balls cover $\{y_n\}$. Hence there must be some $x_i$ ($1\le i\le N$) such that there are infinitely many $y_j=x_i$. Consider the sequence $(y_j)$ where each term in this sequence is equal to $x_i$; this is a subsequence of $(y_n)$ that converges to $x_i\in K$. This contradicts the assumption.

\fbox{$\impliedby$} Suppose, for a contradiction, that $K$ is not compact. Then there exists an open cover $\{U_\alpha\mid \alpha\in \Lambda_\alpha\}$ which has no finite subcover. Then $\Lambda$ must be an infinite set.

If $\Lambda$ is countable, WLOG, assume $\Lambda=\NN$. Since any finite union
\[\bigcup_{i=1}^{n}U_i\]
cannot cover $K$, we can take some $x_n\in K\setminus\bigcup_{i=1}^{n}U_i$ for every $n\in\NN$. Then we obtain a sequence $(x_n)$ in $K$ and so must have a convergent subsequence $(x_{n_k})$ that converges to some $x_0\in K$. It follows that there must be some $U_N$ such that $x_0\in U_N$. Since $U_N$ is open, there exists $r>0$ such that 
\[B_r(x_0)\subset U_N.\]
On the other hand, since $x_{n_k}\to x_0$, there exists $N^\prime\in\NN$ such that if $n_k\ge N^\prime$ then
\[x_{n_k}\in B_r(x_0).\]
However, by our way of choosing $x_n$, whenever $n_k>\max\{N^\prime,N\}$, $x_{n_k}\notin U_N$. This leads to a contradiction.
\end{proof}

\begin{comment}
sequential compactness
A set $K$ is compact if and only if every sequence of points in $K$ has a subsequence that converges to a point in $K$.

Any continuous function defined on a compact set is bounded.

extreme value theorem
\end{comment}
\pagebreak

\section{Perfect Sets}
\begin{definition}[Perfect set]
$E$ is \vocab{perfect}\index{perfect set} if
\begin{enumerate}[label=(\roman*)]
\item $E$ is closed;
\item every point of $E$ is a limit point of $E$.
\end{enumerate}
\end{definition}

\begin{proposition}
Let non-empty $P\subset\RR^k$ be perfect. Then $P$ is uncountable.
\end{proposition}

\begin{proof}
Since $P$ has limit points, $P$ must be infinite. 
Suppose, for a contradiction, that $P$ is countable. This means we can list the points of $P$ in a sequence:
\[\vb{x}_1,\vb{x}_2,\vb{x}_3,\dots\]
We now construct a sequence $(B_n)$ of open balls, where $B_n$ is any open ball centred at $\vb{x}_n$:
\[B_n=\{\vb{y}\in\RR^k\mid |\vb{y}-\vb{x}_n|<r\}.\]
Then its closure $\overline{B}_n$ is the closed ball
\[\overline{B}_n=\{\vb{y}\in\RR^k\mid |\vb{y}-\vb{x}_n|\le r\}.\]
Suppose $B_n$ has been constructed. Note that $B_n\cap P$ is not empty. Since $P$ is perfect, every point of $P$ is a limit point of $P$, so there exists  is a neighborhood Vn+i such
that (i) Yn + 1 C: vn , ( ii) Xn  Yn + 1, (iii) Vn + 1 n p is not empty. By (iii),
Vn+i satisfies our induction hypothesis, and the construction can proceed.
Put Kn = Yn n P. Since Yn is closed and bounded, Yn is compact.
Since Xn  Kn+l, no point of plies in n'? Kn. Since Kn C: P, this implies
that nf Kn is empty. But each Kn is nonempty, by (iii), and Kn=> Kn+t,
by (i); this contradicts the Corollary to Theorem 2.36. 
\end{proof}

\begin{corollary}
Every interval $[a,b]$ is uncountable. In particular, $\RR$ is uncountable.
\end{corollary}

\subsection{Cantor Set}
We now construct the Cantor set. Consider the interval
\[C_0=[0,1].\]
Remove the middle third $\brac{\frac{1}{3},\frac{2}{3}}$ to give
\[C_1=\sqbrac{0,\frac{1}{3}}\cup\sqbrac{\frac{2}{3},1}.\]
Remove the middle thirds of these intervals to give
\[C_2=\sqbrac{0,\frac{1}{9}}\cup\sqbrac{\frac{2}{9},\frac{3}{9}}\cup\sqbrac{\frac{6}{9},\frac{7}{9}}\cup\sqbrac{\frac{8}{9},1}.\]

\begin{figure}[H]
\centering
\begin{tikzpicture}
\draw (9,0) -- (0,0) node [anchor=east] {$C_0$};
\draw (9,-1) -- (6,-1);
\draw (3,-1) -- (0,-1) node [anchor=east] {$C_1$};
\draw (9,-2) -- (8,-2);
\draw (7,-2) -- (6,-2);
\draw (3,-2) -- (2,-2);
\draw (1,-2) -- (0,-2) node [anchor=east] {$C_2$};
\end{tikzpicture}
\caption{Cantor set}
\end{figure}

Repeating this process, we obtain a monotonically decreasing sequence of compact sets $(C_n)$, where $C_n$ is the union of $2^n$ intervals, each of length $3^{-n}$. Recursively, we have that $C_{n+1}=\frac{1}{3}C_n\cup\brac{\frac{1}{3}C_n+\frac{2}{3}}$.

Note that each $C_n$ has the following properties:
\begin{enumerate}[label=(\roman*)]
\item closed (since each $C_n$ is a finite union of closed sets, which is closed)
\item compact (since each $C_n$ is a closed subset of a compact set $[a,b]$)
\item non-empty (since the endpoints $0$ and $1$ are in each $C_n$)
\end{enumerate}

The \vocab{Cantor set} is defined to be the union
\[C\coloneqq\bigcap_{n=1}^{\infty}C_n.\]

\begin{lemma}[Properties of the Cantor set] \
\begin{enumerate}[label=(\roman*)]
\item $C$ is closed.
\item $C$ is compact.
\item $C$ is not empty.
\item $C$ has no interior points.
\end{enumerate}
\end{lemma}

\begin{proof} \
\begin{enumerate}[label=(\roman*)]
\item $C$ is the intersection of arbitrarily many closed sets, so $C$ is closed.
\item $C$ is bounded in $[0,1]$, by definition. Since $C$ is closed and bounded, by the Heine--Borel theorem, $C$ is compact.
\item Since $(C_n)$ is a decreasing sequence of non-empty compact sets, by Cantor's intersection theorem, $\bigcup_{n=1}^{\infty}C_n=C\neq\emptyset$.
\item Suppose, for a contradiction, that there exists $p\in C$ which is an interior point. Then there exists some open interval around $p$, i.e. $p\in(a,b)$.

However in $C_n$, each interval has length $\frac{1}{3^n}$. Hence for any $(a,b)$ we can find some $n\in\NN$ such that $(a,b)$ is not contained in $C_n$ and hence not contained in $C$.
\end{enumerate}
\end{proof}

\begin{proposition}
$C$ is a perfect set in $\RR$ which contains no segment.
\end{proposition}

\begin{proof}
We prove (i) $C$ contains no segment, and (ii) $C$ is perfect.
\begin{enumerate}[label=(\roman*)]
\item No segment of the form
\[\brac{\frac{3k+1}{3^m},\frac{3k+2}{3^m}},\]
where $k,m\in\ZZ^+$, has a point in common with $C$. Since every segment $(\alpha,\beta)$ contains a segment of the above form, if
\[3^{-m}<\frac{\beta-\alpha}{6},\]
$C$ contains no segment.

\item Sincw we have shown that $C$ is closed, it suffices to show that every point of $C$ is a limit point of $C$.

Let $x\in C$, and let $S$ be any segment containing $x$. Let $I_n$ be that interval of $C_n$ which contains $x$. Choose $n$ large enough, so that $I_n\subset S$. Let $x_n$ be an endpoint of $I_n$, such that $x_n\neq x$.

It follows from the construction of $C$ that $x_n\in P$. Hence $x$ is a limit point of $C$, and $C$ is perfect.
\end{enumerate}
\end{proof}

\begin{corollary}
$C$ is uncountable.
\end{corollary}

The following are a few more interesting properties of the Cantor set.

\begin{proposition}
$C$ is precisely the set of all real numbers in $[0,1]$ whose ternary expansion contain only $0$'s or and $2$'s.
\end{proposition}

\begin{remark}
Finite decimal expansions, as always, are not formally well-defined; for instance, $\frac{1}{3}=0.1=0.0222\cdots$ so that $\frac{1}{3}\in C$ because it can be expressed with only zeros and twos in at least one of its ternary expansions.
\end{remark}

\begin{proof}
%https://sites.math.washington.edu//~hart/m424/Cantorset.pdf
\end{proof}

\begin{proposition}
$C$ has measure zero; that is, for all $\epsilon>0$, $C$ can be covered by intervals of total length less than $\epsilon$.
\end{proposition}
\pagebreak

\section{Connectedness}
\begin{definition}[Connectedness]
$A$ and $B$ are \vocab{separated} if
\begin{enumerate}[label=(\roman*)]
\item $A\cap\overline{B}=\emptyset$, and
\item $\overline{A}\cap B=\emptyset$;
\end{enumerate}
that is, no point of $A$ lies in the closure of $B$, and no point of $B$ lies in the closure of $A$. (Equivalently, no point of one set is a limit point of the other set.)

$E\subset X$ is \vocab{connected}\index{connectedness} if $E$ is not the union of two non-empty separated sets. 
\end{definition}

\begin{remark}
Separated sets are of course disjoint, but disjoint sets need not be separated. For example, the interval $[0,1]$ and the segment $(1,2)$ are not separated, since $1$ is a limit point of $(1,2)$. However, the segments $(0,1)$ and $(1,2)$ are separated.
\end{remark}

\begin{example}
In $\RR^2$, consider the set
\[E=\{(x,y)\mid x,y\in\QQ\}.\]
Then $E$ is not connected; if we let
\begin{align*}
A&=\crbrac{(x,y)\mid x,y\in\QQ,x<\sqrt{2}},\\
B&=\crbrac{(x,y)\mid x,y\in\QQ,x>\sqrt{2}},
\end{align*}
then note that $A\cup B=E$, as well as $A\cap\overline{B}=\emptyset$ and $\overline{A}\cap B=\emptyset$.
\end{example}

\begin{proposition}
Closed intervals in $\RR$ are connected.
\end{proposition}

\begin{proof}
Suppose otherwise, for a contradiction, that a closed interval $[a,b]$ is not connected. Then by definition, there exists non-empty sets $A$ and $B$, with $A\cap\overline{B}=\emptyset$ and $\overline{A}\cap B=\emptyset$. WLOG let $a\in A$.

Let $s=\sup A$. Then by \cref{prop:closure-sup}, $s\in\overline{A}$. Then $\overline{A}\cap B=\emptyset$ implies $s\notin B$, so $s\in A$. Thus $A\cap\overline{B}=\emptyset$ implies $s\notin\overline{B}$. Hence there exists an open interval $(s-\epsilon,s+\epsilon)$ around $s$ that is disjoint from $B$. But since $A\cup B=[a,b]$, we must have $(s-\epsilon,s+\epsilon)\subset A$. This contradicts the fact that $s$ is the supremum of $A$. 
\end{proof}

\begin{proposition}
$E\subset\RR$ is connected if and only if it has the following property: if $x,y\in E$ and $x<z<y$, then $z\in E$.
\end{proposition}

\begin{proof} \

\fbox{$\impliedby$} If there exists $x,y\in E$ and some $z\in(x,y)$ such that $z\notin E$, then $E=A_z\cup B_z$ where
\[ A_z=E\cap(-\infty,z), \quad B_z=E\cap(z,\infty). \]
Since $x\in A_z$ and $y\in B_z$, $A$ and $B$ are non-empty. Since $A_z\subset(-\infty,z)$ and $B_z\subset(z,\infty)$, they are separated. Hence $E$ is not connected.

\fbox{$\implies$} Suppose $E$ is not connected. Then there are non-empty separated sets $A$ and $B$ such that $A\cup B=E$. Pick $x\in A$, $y\in B$, and WLOG assume that $x<y$. Define
\[z\coloneqq\sup(A\cap[x,y].)\]
By 
\end{proof}

\begin{definition}
We say that a metric space is \vocab{disconnected} if we can write it as the disjoint union of two nonempty open sets. We say that a space is \vocab{connected} if it is not disconnected.
\end{definition}

If $X$ is written as a disjoint union of two nonempty open sets $U$ and $V$ then we say that these sets \vocab{disconnect} $X$.

\begin{example}
If $X=[0,1]\cup[2,3]\subset\RR$ then we have seen that both $[0,1]$ and $[2,3]$ are open in $X$. Since $X$ is their disjoint union, $X$ is disconnected.
\end{example}

The following lemma gives some equivalent ways to formulate the concept of connected space.

\begin{lemma}
The following are equivalent:
\begin{enumerate}[label=(\roman*)]
\item $X$ is connected.
\item If $f:X\to\{0,1\}$ is a continuous function then $f$ is constant.
\item The only subsets of $X$ which are both open and closed are $X$ and $\emptyset$.
\end{enumerate}
(Here the set $\{0,1\}$ is viewed as a metric space via its embedding in $\RR$, or equivalently with the discrete metric.)
\end{lemma}

\begin{proof}

\end{proof}

Frequently one has a metric space $X$ and a subset $E$ of it whose connectedness or otherwise one wishes to ascertain. To this end, it is useful to record the following lemma.

\begin{lemma}
Let $E\subset X$, considered as a metric space with the metric induced from $X$. Then $E$ is connected if and only if the following is true: if $U,V$ are open subsets of $X$, and $U\cap V\cap E=\emptyset$, then $E\subset U\cup V$ implies either $E\subset U$ or $E\subset V$.
\end{lemma}

\begin{proof}

\end{proof}

We now turn to some basic properties of the notion of connectedness. These broadly conform with one's intuition about how connected sets should behave.

\begin{lemma}[Sunflower lemma]
Let $\{E_i\mid i\in I\}$ be a collection of connected subsets of $X$ such that $\bigcap_{i\in I}E_i\neq\emptyset$. Then $\bigcup_{i\in I}E_i$ is connected.
\end{lemma}

\begin{proof}

\end{proof}

\begin{proposition}
The Cantor set $C$ is totally disconnected.
\end{proposition}
\pagebreak

\section*{Exercises}
\begin{prbm}
Prove that the following are metrics.
\begin{enumerate}[label=(\roman*)]
\item On an arbitrary set $X$, define
\[d(x,y)=\begin{cases}
1&(x\neq y)\\
0&(x=y)
\end{cases}\]
(This is called the \emph{discrete metric}.)

\item On $\ZZ$, define $d(x,y)$ to be $2^{-m}$, where $2^m$ is the largest power of two dividing $x-y$. The triangle inequality holds in the following stronger form, known as the ultrametric property:
\[d(x,z)\le\max\{d(x,y),d(y,z)\}.\]
Indeed, this is just a rephrasing of the statement that if $2^m$ divides both $x-y$ and $y-z$, then $2^m$ divides $x-z$.

(This is called the \emph{2-adic metric}. The role of $2$ can be replaced by any other prime $p$, and the metric may also be extended in a natural way to the rationals $\QQ$.)

\item Let $\mathcal{G}=(V,E)$ be a connected graph. Define $d$ on $V$ as follows: $d(v,v)=0$, and $d(v,w)$ is the length of the shortest path from $v$ to $w$.

(This is known as the \emph{path metric}.)

\item Let $G$ be a group generated by elements $a$, $b$ and their inverses. Define a distance on $G$ as follows: $d(v,w)$ is the minimal $k$ such that $v=wg_1\cdots g_k$, where $g_i\in\{a,b,a^{-1},b^{-1}\}$ for all $i$.

(This is known as the \emph{word metric}.)

\item Let $X=\{0,1\}^n$ (the boolean cube), the set of all strings of $n$ zeroes and ones. Define $d(x,y)$ to be the number of coordinates in which $x$ and $y$ differ.

(This is known as the \emph{Hamming distance}.)

\item Consider the set $P(\RR^n)$ of one-dimensional subspaces of $\RR^n$, that is to say lines through the origin. One way to define a distance on this set is to take, for lines $L_1,L_2$, the distance between $L_1$ and $L_2$ to be
\[d(L_1,L_2)=\sqrt{1-\frac{|\langle v,w\rangle|^2}{\norm{v}^2\norm{w}^2}},\]
where $v$ and $w$ are any non-zero vectors in $L_1$ and $L_2$ respectively.

When $n=2$, the distance between two lines is $\sin\theta$ where $\theta$ is the angle between those lines.

(This is known as the \emph{projective space}.)
\end{enumerate}
\end{prbm}

\begin{prbm}[Product space]
If $(X,d_X)$ and $(Y,d_Y)$ are metric spaces, set
\[d_{X\times Y}\brac{(x_1,y_1),(x_2,y_2)}=\sqrt{d_X(x_1,x_2)^2+d_Y(y_1,y_2)^2.}\]
for $x_1,x_2\in X$, $y_1,y_2\in Y$.

Prove that $d_{X\times Y}$ gives a metric on $X\times Y$; we call $X\times Y$ the \emph{product space}.
\end{prbm}

\begin{solution}
Reflexivity and symmetry are obvious. Less clear is the triangle inequality. We need to prove that
\begin{equation*}\tag{1}
\begin{split}
&\sqrt{d_X(x_1,x_3)^2+d_Y(y_1,y_3)^2}+\sqrt{d_X(x_3,x_2)^2+d_Y(y_3,y_2)^2}\\
&\ge\sqrt{d_X(x_1,x_2)^2+d_Y(y_1,y_2)^2}
\end{split}
\end{equation*}
Write $a_1=d_X(x_2,x_3)$, $a_2=d_X(x_1,x_3)$, $a_3=d_X(x_1,x_2)$ and similarly $b_1=d_Y(y_2,y_3)$, $b_2=d_Y(y_1,y_3)$ and $b_3=d_Y(y_1,y_2)$. Thus we want to show
\begin{equation*}\tag{2}
\sqrt{{a_2}^2+{b_2}^2}+\sqrt{{a_1}^2+{b_1}^2}\ge\sqrt{{a_3}^2+{b_3}^2}.
\end{equation*}
To prove this, note that from the triangle inequality we have $a_1+a_2\ge a_3$, $b_1+b_2\ge b_3$. Squaring and adding gives
\[{a_1}^2+{b_1}^2+{a_2}^2+{b_2}^2+2(a_1a_2+b_1b_2)\ge {a_3}^2+{b_3}^2.\]
By Cauchy--Schwarz,
\[a_1a_2+b_1b_2\le\sqrt{{a_1}^2+{b_1}^2}\sqrt{{a_2}^2+{b_2}^2}.\]
Substituting this into the previous line gives precisely the square of (2), and (1) follows.
\end{solution}